(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{459:function(t,e,s){"use strict";s.r(e);s(38),s(24),s(15),s(62),s(47),s(31),s(39),s(11),s(8),s(41),s(16),s(27);var o=s(2),i=s(10),r=s(30),n=s(1),a=s(48),c=s(483),p={props:{text:{default:""}}},u=(s(512),s(4)),h=Object(u.a)(p,(function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"wrap"},[e("div",{staticClass:"pa bean"},[e("div",{staticClass:"pa text"},[e("p",{domProps:{innerHTML:this._s(this.text)}})])])])}),[],!1,null,"370791e6",null).exports,l=s(57),w=s(73),f={props:{onClick:{type:Function,default:function(){}},onClose:Function},components:{VueShadowMask:l.a,AppBtn:w.a}},d=(s(513),Object(u.a)(f,(function(){var t=this.$createElement,e=this._self._c||t;return e("VueShadowMask",{attrs:{show:!0}},[e("div",{staticClass:"wrap"},[e("div",{staticClass:"main pr"}),this._v(" "),e("AppBtn",{staticClass:"btn",attrs:{onClick:this.onClick}},[this._v(this._s(this.$t("dressNow")))]),this._v(" "),e("div",{staticClass:"close",on:{click:this.onClose}})],1)])}),[],!1,null,"2fe8f869",null).exports),v=s(484),b=s(482);function _(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,o)}return s}var m={computed:function(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?_(Object(s),!0).forEach((function(e){Object(i.a)(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):_(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}({},Object(a.c)(["score","image"])),components:{DressupScore:v.a,UnlockCard:b.a}},g=(s(514),Object(u.a)(m,(function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"pic"},[e("div",{staticClass:"icons"},[e("DressupScore",{staticClass:"dressup",attrs:{score:this.score,page:"index"}}),this._v(" "),e("UnlockCard")],1),this._v(" "),e("div",{staticClass:"picture",style:{backgroundImage:"url("+this.image+")"}})])}),[],!1,null,"58b47a0a",null).exports),C=s(0);function y(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,o)}return s}var D,O=r.default.params,S=r.default.version,T=r.default.expireTime,k=O.from||"",j=!0,P=!1,$={data:function(){return{isShowCountDown:!1,countDown:0,startDt:(new Date).getTime(),isShowNewTag:!1,isShowUploadCardTip:!1,isShowNewDress:!1}},computed:function(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?y(Object(s),!0).forEach((function(e){Object(i.a)(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):y(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}({uploadCardTip:function(){return this.$t("newEffectUnlock").split(".").join("<br />")}},Object(a.c)(["time","ticket","cd","playPgEnterType","isCollectAll"]),{},Object(a.b)("Entry",["isShowMatchBubble","isShowInviteBubble","isShowLastTip"]),{lastTip:function(){return this.$t("lastTip1")+this.$t("lastTip2",["<span style='color:#ffc102;font-weight:bold;'>".concat(this.$t("lastTip3"),"</span>")])}}),watch:{cd:function(t){var e=this;if(!t)return this.isShowCountDown=!1,void clearInterval(D);this.isShowCountDown=!0,this.countDown=Number(this.time),console.log("this.countDown",this.countDown),D=setInterval((function(){if(e.countDown--,0===e.countDown){var t=e.$router.history.current.path;if(clearInterval(D),e.isShowCountDown=!1,"/appEntry"!==t)return;e.$store.dispatch("initMatchInfo")}}),1e3)}},components:{NewUser:h,NewGiftDialog:d,AppPicture:g},methods:{onCloseNewGift:function(){this.isShowNewDress=!1},onJumpToDressup:function(){this.$store.state.playPgEnterType=9,this.isShowNewDress=!1,this.$router.push("/dress")},detectIsShowNewDress:function(){"im"===k&&(console.log(this.$router),T&&S&&(T&&Date.now()>new Date(T).getTime()||(this.isShowNewDress=!0,P=!0)))},onClickLastTip:function(){P||this.detectIsShowNewDress(),this.$store.commit("Entry/hideLastTip")},onMatch:function(){var t=this;return Object(o.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.report("play_pg_match_click"),e.next=3,t.$store.dispatch("initMatchInfo",!1);case 3:if(!0===e.sent){e.next=7;break}return t.report("no_match_point_show"),e.abrupt("return");case 7:if(!t.cd){e.next=10;break}return t.report("no_match_point_show"),e.abrupt("return",n.default.$emit("showToast",t.$t("hasnotTime")));case 10:if(t.report("match_pg_show"),C.Storage.get("hasEnterMatch")){e.next=13;break}return e.abrupt("return",c.a.show({onOk:function(){t.onEnterMatchPage()}}));case 13:t.onEnterMatchPage();case 14:case"end":return e.stop()}}),e)})))()},onEnterMatchPage:function(){this.$router.push("/matchPage")},onDressup:function(){this.report("play_pg_dre_click"),this.$store.commit("changeDressMode",!1),this.$router.push("/dress")},onTakePhoto:function(){this.report("play_pg_selfphoto_click"),this.report("selfphoto_pop_show"),this.$store.commit("showAppPost")},onGroupPhoto:function(){this.report("play_pg_photo_click"),this.$router.push("/inviteList")},detectIsShowUnlockTip:function(){return this.isCollectAll?C.Storage.get("hasShowUploadTip")?this.isShowUploadCardTip=!1:(C.Storage.set("hasShowUploadTip",!0),void(this.isShowUploadCardTip=!0)):this.isShowUploadCardTip=!1}},beforeRouteEnter:function(t,e,s){s(function(){var t=Object(o.a)(regeneratorRuntime.mark((function t(s){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(s.report("play_page_show"),s.isShowNewTag=!C.newDressStorage.isEmpty(),s.startDt=(new Date).getTime(),s.$store.commit("pushTopBarTitle","dress"),s.$store.dispatch("initMatchInfo"),s.detectIsShowUnlockTip(),s.$store.dispatch("initMatchInfo",!1),e&&"/"===e.fullPath){t.next=9;break}return t.abrupt("return");case 9:if(j){t.next=11;break}return t.abrupt("return");case 11:return j=!1,t.next=14,s.$store.dispatch("Entry/enterEntryPage");case 14:console.log("vm.isShowLastTip is ".concat(s.isShowLastTip)),s.isShowLastTip||s.detectIsShowNewDress();case 16:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())},beforeRouteLeave:function(t,e,s){this.report({function_id:"play_pg_show",start_dt:this.startDt,end_dt:(new Date).getTime(),play_pg_enter_type:this.playPgEnterType}),s(!0)}},E=(s(515),Object(u.a)($,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"entry"},[s("div",{staticClass:"main pr"},[s("AppPicture",{staticClass:"pic"})],1),t._v(" "),s("div",{staticClass:"operation-wrap pr"},[t.isShowMatchBubble?s("div",{staticClass:"match-tip bubble pa"},[t._v(t._s(t.$t("matchFriend"))+" "+t._s(t.$t("getGift")))]):t._e(),t._v(" "),s("div",{staticClass:"match pa",on:{click:t.onMatch}},[s("div",{staticClass:"love-icon"},[t._v(t._s(t.ticket))]),t._v(" "),s("div",{staticClass:"match-info"},[s("div",{staticClass:"match-name"},[t._v(t._s(t._f("toLower")(t.$t("match"))))]),t._v(" "),t.isShowCountDown?s("div",{staticClass:"match-time"},[t._v(t._s(t._f("formatCountDown")(t.countDown)))]):t._e()])]),t._v(" "),s("div",{staticClass:"operation pr"},[t.isShowInviteBubble?s("div",{staticClass:"invite-tip bubble pa"},[t._v(t._s(t.$t("togetherLet")))]):t._e(),t._v(" "),s("div",{staticClass:"photo btn",on:{click:t.onTakePhoto}}),t._v(" "),s("div",{staticClass:"dress btn pr",on:{click:t.onDressup}},[t.isShowNewTag?s("div",{staticClass:"tag pa"},[t._v("NEW")]):t._e()]),t._v(" "),s("div",{staticClass:"photos btn pr",class:t.isShowInviteBubble&&"photos-active",on:{click:t.onGroupPhoto}})]),t._v(" "),t.isShowUploadCardTip?s("div",{staticClass:"card-tip pa",domProps:{innerHTML:t._s(t.uploadCardTip)}}):t._e()]),t._v(" "),t.isShowLastTip?s("NewUser",{attrs:{text:t.lastTip},nativeOn:{click:function(e){return t.onClickLastTip(e)}}}):t._e(),t._v(" "),t.isShowNewDress?s("NewGiftDialog",{attrs:{onClick:t.onJumpToDressup,onClose:t.onCloseNewGift}}):t._e()],1)}),[],!1,null,"0d43ddeb",null));e.default=E.exports},476:function(t,e,s){},477:function(t,e,s){},478:function(t,e,s){},479:function(t,e,s){},512:function(t,e,s){"use strict";var o=s(476);s.n(o).a},513:function(t,e,s){"use strict";var o=s(477);s.n(o).a},514:function(t,e,s){"use strict";var o=s(478);s.n(o).a},515:function(t,e,s){"use strict";var o=s(479);s.n(o).a}}]);