(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{280:function(t,e,s){"use strict";s.r(e);var i=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"dressup pr"},[i("div",{ref:"dressTop",staticClass:"pr dressup_main",style:t.block},[i("div",{directives:[{name:"show",rawName:"v-show",value:t.isShowChanging,expression:"isShowChanging"}],staticClass:"pa dressup_change"},[i("div",{staticClass:"pa dressup_changeSvga",attrs:{id:"changing"}}),t._v(" "),i("div",{staticClass:"pa dressup_change-txt"},[t._v(t._s(t.$t("changing")))])]),t._v(" "),!1===t.dressMode?[i("div",{staticClass:"pa dressup_tag"},[i("DressupScore",{staticClass:"fl dressup_score",attrs:{score:t.dressScore}}),t._v(" "),i("UnlockCard",{staticClass:"fl dressup_cards",attrs:{type:"dress"}})],1),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:t.dressUp[22],expression:"dressUp['22']"}],staticClass:"pa dressup_playEffect",on:{click:t.onClickPlayEffect}}),t._v(" "),i("div",{staticClass:"pa dressup_sex-common dressup_sex-boy",class:0===t.sexes?"dressup_sex-girl":"dressup_sex-boy",on:{click:t.onChangeSex}})]:t._e(),t._v(" "),i("div",{ref:"dressUp",staticClass:"pr dressup_photo"},[i("DressPanel",{attrs:{dressUp:t.dressUp}})],1)],2),t._v(" "),i("div",{staticClass:"pa dressup-hidden"},[i("div",{ref:"dressUpEmoji",staticClass:"dressup-emoji"},[t.isWatermark?[i("img",{staticClass:"pa dressup_photo-logo",attrs:{src:s(487),alt:""}}),t._v(" "),!1!==t.dressMode?i("p",{staticClass:"pa dressup_photo-namewrap"},[i("span",{staticClass:"dressup_photo-name"},[t._v(t._s(t._f("limitName")(t.nick,8))+" & "+t._s(t._f("limitName")(t.inviteName,8)))])]):t._e()]:t._e(),t._v(" "),i("DressPanel",{attrs:{isHideBg:!t.isWatermark&&!0,dressUp:t.EMojiDressUp,isMoji:t.mojiIndex<4}})],2)]),t._v(" "),i("IndexBtn",{ref:"dressBottom",attrs:{sexes:t.sexes,dressUp:t.dressUp,dressScore:t.dressScore,reverseHideStatus:t.reverseHideStatus,uploadAllImg:t.uploadAllImg,upLoadOneImg:t.upLoadOneImg,setInviteName:t.setInviteName,isChange:t.isChange,isNewUser:t.isNewUser}},[i("SliderNest",{ref:"sliderDress",attrs:{sex:t.sexes,dressUp:t.dressUp},on:{"on-select":t.onSelectDress}})],1),t._v(" "),i("div",{staticClass:"pa dressup-hidden"},[i("PersonPannel",{ref:"personPannel",attrs:{dressUp:t.dressUp}})],1),t._v(" "),i("GetNewDress",{attrs:{isShow:t.newDressInfo.isShow,dreInfo:t.newDressInfo.dreInfo,onClick:t.onGetNewDressClick,onClose:t.onNewDressClose}}),t._v(" "),i("ModalLock",{attrs:{dreInfo:t.lockDressInfo.dreInfo,isShow:t.lockDressInfo.isShow,onClose:t.onLockDressClose,onClick:t.onLockDressClick,onClickTicket:t.onLockDressTicket}})],1)};i._withStripped=!0;s(38),s(20),s(24),s(15),s(14),s(61),s(31),s(39),s(11),s(28),s(72),s(16);var n=s(10),r=(s(27),s(2)),a=(s(488),s(47),s(154),s(489)),o={props:{options:{type:Object,default:function(){return{}}},pages:{type:Array,default:function(){return[]}}},name:"slider",data:function(){return{data:{poswidth:0,posheight:0,start:{},end:{},currentPage:this.options.currentPage||0,direction:""},s_data:{prefixes:Object(a.a)(),transitionEnding:!1,itemTransitionEnding:!1,setIntervalid:"",renderTime:"",sliderLength:0,effect:this.options.effect||"slide",direction:this.options.direction||"horizontal",tracking:!1,thresholdDistance:this.options.thresholdDistance||100,thresholdTime:this.options.thresholdTime||500,animation:!1,itemAnimation:this.options.itemAnimation||!1,loading:!1,containerClass:{"swiper-container-vertical":!1,"swiper-container-cursorGrab":this.options.grabCursor||!1},pageInit:!1,widthScalingRatio:this.options.widthScalingRatio||.8,heightScalingRatio:this.options.heightScalingRatio||.8,deviation:this.options.deviation||200,currentPage:this.options.currentPage||0,pageWidth:0,pageHeight:0,onSlide:!1,onSlideEnd:!0,sliderItem:"",pagination:void 0===this.options.pagination||this.options.pagination,nested:void 0===this.options.nested||this.options.nested,resize:void 0===this.options.resize||this.options.resize,freeze:void 0!==this.options.freeze&&this.options.freeze,slidesPerView:void 0===this.options.slidesPerView?0:this.options.slidesPerView,$parent:this.judgeParentSlider(this),route:!1,type:""}}},watch:{$route:function(){if(this.route){var t=this.data.currentPage,e=this.s_data.sliderLength;this.s_data.transitionEnding=!1,t<0?this.slide(0,"animationnone"):t>=(this.pagenums||e)?this.slide(e-1,"animationnone"):this.slide(t,"animationnone"),this.options.autoplay&&this.clock().begin(this),this.route=!1}else this.route=!0,this.options.autoplay&&this.clock().stop(this)}},computed:{styleobj:function(){var t={};return t.transform="translate3D("+this.data.poswidth+"px,"+this.data.posheight+"px,0)",t[this.s_data.prefixes.transition+"TimingFunction"]=this.options.timingFunction||"ease",t[this.s_data.prefixes.transition+"Duration"]=(this.s_data.animation?this.options.speed||300:0)+"ms","fade"===this.s_data.effect||"coverflow"===this.s_data.effect?{}:t},pagenums:function(){return(this.pages.length||0!==this.s_data.sliderLength)&&this.s_data.pageInit,this.pages.length},currentWidth:{get:function(){try{if(!this.pages.length&&0===this.s_data.sliderLength||"fade"===this.s_data.effect||"coverflow"===this.s_data.effect)return 0;var t,e=this.data.currentPage,s=this.s_data.pageWidth,i=this.options.loopedSlides||1;for(var n in this.options.loop&&(e+=i?i<=(this.pagenums||this.s_data.sliderLength)?i:this.pagenums||this.s_data.sliderLength:1),"coverflow"===this.options.effect&&(e-=1),this.$el.children)/slider-touch/gi.test(this.$el.children[n].className)&&(t=this.$el.children[n]);var r=t.children[0].children;if(!r[e])return 0;var a=r[e].offsetLeft;this.options.loop&&(a=r[e].offsetLeft);var o=r[e].offsetWidth,c=this.options.slidesPerView,d=this.s_data.sliderLength;if(this.options.centeredSlides)if(c){var l=this.data.currentPage,u=parseInt((c-1)/2);if(l-(u=c%2===1?u:u+1)<=0?l=0:l+u>=d?l=d-c:l-=u,!r[l])return 0;a=r[l].offsetLeft}else a=a-s/2+o/2;if(!this.options.centeredSlides&&c){var h=this.data.currentPage,p=this.options.slidesToScroll||1;if(h+p>=d){if(!r[d-p])return 0;a=r[d-p].offsetLeft}}return a+s-s}catch(f){return console.log("error offset"),0}}},currentHeight:function(){var t,e=this.s_data.sliderLength,s=this.data.currentPage,i=this.pages.length,n=0,r=s-1,a=this.s_data.pageWidth,o=this.options.loopedSlides||1;if(!i&&0===e||"fade"===this.s_data.effect)return 0;for(var c in this.options.loop&&(r=o?s+(o<=(i||e)?o:i||e)-1:s+1),this.$el.children)/slider-touch/gi.test(this.$el.children[c].className)&&(t=this.$el.children[c]);var d=t.children[0].children;for(var l in d)l<=r&&(n+=d[l].offsetHeight,n+=parseInt(d[l].style.marginTop||0),n+=parseInt(d[l].style.marginBottom||0));return n+a-a},classObject:function(){var t={};switch(this.options.effect){case"fade":t={"slider-fade":!0}}return t}},mounted:function(){var t=this,e=this;this.s_data.pageWidth=this.$el.offsetWidth,this.s_data.pageHeight=this.$el.offsetHeight,this.$emit("init",this.data),this.$on("slideTo",(function(e){t.slide(e,"slideTo")})),this.$on("slideNext",(function(){t.next()})),this.$on("slidePre",(function(){t.pre()})),this.$on("autoplayStart",(function(s){t.options.autoplay=s||t.options.autoplay||1e3,t.clock().begin(e)})),this.$on("autoplayStop",(function(){t.options.autoplay=0,t.clock().stop(e)})),this.$on("loadingShow",(function(){t.s_data.loading=!0})),this.$on("loadingHide",(function(){t.s_data.loading=!1})),this.options.autoplay&&this.clock().begin(e),document.addEventListener("visibilitychange",this.visibilitychange,!1),"vertical"===this.options.direction?this.s_data.containerClass["swiper-container-vertical"]=!0:this.s_data.containerClass["swiper-container-horizontal"]=!0,this.s_data.resize&&window.addEventListener("resize",this.resize)},beforeDestroy:function(){this.options.autoplay&&this.clock().stop(this),!0===this.options.preventDocumentMove&&document.removeEventListener("touchmove",this.preventDefault()),document.removeEventListener("visibilitychange",this.visibilitychange,!1),window.removeEventListener("resize",this.resize)},methods:{visibilitychange:function(){document.hidden?this.options.autoplay&&this.clock().stop(this):this.options.autoplay&&this.clock().begin(this)},resize:function(){if(this.s_data.pageWidth=this.$el.offsetWidth,this.s_data.pageHeight=this.$el.offsetHeight,this.data.currentPage>=this.s_data.sliderLength&&this.options.loop)return this.slide(0,"animationnone"),!1;this.slide(this.data.currentPage,"animationnone")},swipeStart:function(t){if(this.s_data.e=t,!this.s_data.freeze&&!this.s_data.transitionEnding&&!this.s_data.transitionEnding&&(!this.s_data.itemTransitionEnding||!this.options.itemAnimation))if(this.s_data.animation=!1,this.options.autoplay&&this.clock().stop(this),!0===this.options.preventDocumentMove&&document.addEventListener("touchmove",this.preventDefault(t)),"touchstart"===t.type){if(t.touches.length>1)return this.s_data.tracking=!1,!1;this.s_data.tracking=!0,this.data.start.t=(new Date).getTime(),this.data.start.x=t.targetTouches[0].clientX,this.data.start.y=t.targetTouches[0].clientY,this.data.end.x=t.targetTouches[0].clientX,this.data.end.y=t.targetTouches[0].clientY}else this.s_data.tracking=!0,this.data.start.t=(new Date).getTime(),this.data.start.x=t.clientX,this.data.start.y=t.clientY,this.data.end.x=t.clientX,this.data.end.y=t.clientY},swipeMove:function(t){if(this.s_data.e=t,this.s_data.tracking){this.s_data.type="touch";var e=this.s_data.effect,s=this.s_data.$parent;"touchmove"===t.type?(this.data.end.x=t.targetTouches[0].clientX,this.data.end.y=t.targetTouches[0].clientY):(this.data.end.x=t.clientX,this.data.end.y=t.clientY);var i=Math.abs(this.data.end.x-this.data.start.x),n=Math.abs(this.data.end.y-this.data.start.y);if(i>=n&&"vertical"!==this.options.direction&&t.cancelable?t.preventDefault():i<=n&&"vertical"===this.options.direction&&t.cancelable&&t.preventDefault(),s&&s.s_data.direction===this.s_data.direction&&t.stopPropagation(),"fade"===e||"coverflow"===e)return;if("vertical"===this.options.direction){if(i>n)return;if(s&&"vertical"===s.options.direction&&0===this.data.currentPage&&this.data.end.y-this.data.start.y>=0&&s.s_data.nested&&(!s.options.preventRebound||0!==s.data.currentPage))s.data.posheight=-s.currentHeight+this.data.end.y-this.data.start.y;else if(s&&"vertical"===s.options.direction&&this.data.currentPage===this.s_data.sliderLength-1&&this.data.end.y-this.data.start.y<=0&&s.s_data.nested&&(!s.options.preventRebound||s.data.currentPage!==s.s_data.sliderLength-1))s.data.posheight=-s.currentHeight+this.data.end.y-this.data.start.y;else{if(this.options.preventRebound&&!this.options.loop)return!1;this.data.posheight=-this.currentHeight+this.data.end.y-this.data.start.y}}else{if(i<n)return;if(s&&"vertical"!==s.options.direction&&0===this.data.currentPage&&this.data.end.x-this.data.start.x>=0&&s.s_data.nested&&(!s.options.preventRebound||0!==s.data.currentPage))s.data.poswidth=-s.currentWidth+this.data.end.x-this.data.start.x;else if(s&&"vertical"!==s.options.direction&&this.data.currentPage===this.s_data.sliderLength-1&&this.data.end.x-this.data.start.x<=0&&s.s_data.nested&&(!s.options.preventRebound||s.data.currentPage!==s.s_data.sliderLength-1))s.data.poswidth=-s.currentWidth+this.data.end.x-this.data.start.x;else{if(this.options.preventRebound&&!this.options.loop)return!1;this.data.poswidth=-this.currentWidth+this.data.end.x-this.data.start.x}}}},swipeEnd:function(t){this.s_data.e=t,this.s_data.tracking=!1;var e=(new Date).getTime()-this.data.start.t,s=this.data.end.x-this.data.start.x,i=this.data.end.y-this.data.start.y,n=this.s_data.thresholdDistance,r=this.data.currentPage;if(this.options.autoplay){var a=this;setTimeout((function(){a.clock().begin(a)}),this.options.autoplay)}if(!0===this.options.preventDocumentMove&&document.removeEventListener("touchmove",this.preventDefault(t)),e>this.s_data.thresholdTime)return this.slide(r),!1;if("vertical"!==this.options.direction){if(s>n&&Math.abs(i)<n)return this.pre(),!1;if(-s>n&&Math.abs(i)<n)return this.next(),!1;if(!(e<100&&Math.abs(s)<10&&Math.abs(i)<10))return this.slide(r),!1;this.$emit("tap",this.data),this.slide(r,"click")}else{if(i>n&&Math.abs(s)<n)return this.pre(),!1;if(-i>n&&Math.abs(s)<n)return this.next(),!1;if(!(e<100&&Math.abs(s)<10&&Math.abs(i)<10))return this.slide(r),!1;this.$emit("tap",this.data),this.slide(r,"click")}},swipeOut:function(t){this.$el===t.target&&this.s_data.tracking&&this.swipeEnd(t)},pre:function(){this.data.direction="left";var t=this.s_data.sliderLength,e=this.options.slidesToScroll||1,s=this.s_data.$parent;this.data.currentPage>=1&&this.data.currentPage-e>=0?(this.data.currentPage-=e||1,this.slide()):!(this.options.loop&&this.data.currentPage-e<0)||s&&s.s_data.nested?s&&0===this.data.currentPage&&s.s_data.nested?(s.pre(),this.slide()):this.slide():(this.data.currentPage-=e||1,this.s_data.transitionEnding=!0,this.s_data.itemTransitionEnding=!0,this.data.currentPage<0&&"fade"===this.s_data.effect?(this.slide((this.pagenums||t)-1),this.s_data.transitionEnding=!1,this.s_data.itemTransitionEnding=!1):this.slide())},next:function(){this.data.direction="right";var t=this.s_data.sliderLength,e=this.s_data.$parent,s=this.options.slidesToScroll||1;if(this.data.currentPage<(this.pagenums||t)-1&&this.data.currentPage+s<=t-1)this.data.currentPage+=this.options.slidesToScroll||1,this.slide();else if(!(this.options.loop&&this.data.currentPage+s>t-1)||e&&e.s_data.nested)if(e&&this.data.currentPage===(this.pagenums||t)-1&&e.s_data.nested){this.s_data.$parent.next(),this.slide()}else this.slide(t-1);else this.data.currentPage+=this.options.slidesToScroll||1,this.s_data.transitionEnding=!0,this.s_data.itemTransitionEnding=!0,this.data.currentPage>=(this.pagenums||t)&&"fade"===this.s_data.effect?(this.slide(0),this.s_data.transitionEnding=!1,this.s_data.itemTransitionEnding=!1):this.slide()},slide:function(t,e){if(this.s_data.animation=!0,"slideTo"===e&&!0===this.s_data.onSlide)return!1;if("animationnone"===e?(this.s_data.animation=!1,this.s_data.onSlideEnd=!0,this.s_data.onSlide=!1):(this.s_data.onSlideEnd=!1,this.s_data.onSlide=!0),(t||0===t)&&(this.data.currentPage=t),this.$emit("slide",this.data),"fade"!==this.s_data.effect){if("vertical"===this.options.direction?(Math.abs(this.data.posheight)===Math.abs(-this.currentHeight)&&(this.s_data.onSlideEnd=!0,this.s_data.onSlide=!1),this.data.posheight=-this.currentHeight):(Math.abs(this.data.poswidth)===Math.abs(-this.currentWidth)&&(this.s_data.onSlideEnd=!0,this.s_data.onSlide=!1),this.data.poswidth=-this.currentWidth),this.s_data.sliderLength){var s=this,i=this.$el.getElementsByClassName("slider-wrapper")[0],n=Array.prototype.slice.call(i.children),r=n.filter((function(t){return-1!==t.className.indexOf("slider-item")})),a=n.filter((function(t){return-1!==t.className.indexOf("slider-active-copy")})),o=this.options.loopedSlides||1,c=this.s_data.sliderLength,d=this.$children,l=this.data.currentPage;if((d=d.filter((function(t,e){return"slideritem"===t.$options._componentTag&&"touch"!==s.s_data.type}))).forEach((function(t){t.removeActive()})),"nest"===this.options.effect)return;if(d[l]&&(t||0===t)){if(!d[l])return 0;d[l].addActive()}if(l<0||l>=(this.pagenums||c)){r[l+o]&&r[l+o].classList&&r[l+o].classList.add("slider-active-copy");var u=l<0?(this.pagenums||c)+l:0+l-(this.pagenums||c);if(!d[u])return 0;d[u].addActive()}else for(var h=0;h<a.length;h++){a[h].classList.remove("slider-active-copy")}}if(this.data.currentPage<0||this.data.currentPage>=(this.pagenums||this.s_data.sliderLength))return!1;this.s_data.type=""}else this.pagenums||this.fadeDom()},clock:function(){return{begin:function(t){t.s_data.setIntervalid||0!==t.options.autoplay&&(t.s_data.setIntervalid=setInterval((function(){t.next(),t.data.currentPage!==(t.pagenums||t.s_data.sliderLength)-1||t.options.loop||(clearInterval(t.s_data.setIntervalid),t.s_data.setIntervalid=0)}),t.options.autoplay))},stop:function(t){clearInterval(t.s_data.setIntervalid),t.s_data.setIntervalid=0}}},preventDefault:function(t){t.preventDefault()},onTransitionEnd:function(t){var e=this;this.s_data.onSlideEnd=!0,this.s_data.onSlide=!1,this.s_data.type="",setTimeout((function(){var t=e.data.currentPage,s=e.s_data.sliderLength;e.options.loop&&""!==e.s_data.effect&&(e.s_data.transitionEnding=!1,t<0?e.slide((e.pagenums||s)+t,"animationnone"):t>=(e.pagenums||s)&&e.slide(0+t-(e.pagenums||s),"animationnone"))}),0)},onItemTransitionEnd:function(t){if(t.target===t.currentTarget){var e=this;setTimeout((function(){e.s_data.itemTransitionEnding=!1}),0)}},renderDom:function(t){var e=this;this.s_data.renderTime&&clearTimeout(this.s_data.renderTime),e.s_data.sliderLength+=1,e.s_data.sliderLength>=1&&"fade"===e.options.effect&&(t.previousSibling?t.style["z-index"]=99-e.s_data.sliderLength:t.style["z-index"]=99+e.s_data.sliderLength),this.s_data.renderTime=setTimeout((function(){e.s_data.renderTime=void 0;var t=e.$el.getElementsByClassName("slider-wrapper")[0],s=Array.prototype.slice.call(t.children).filter((function(t){return-1!==t.className.indexOf("slider-item")}));if(e.s_data.sliderLength>=1&&e.options.loop&&"fade"!==e.options.effect&&"coverflow"!==e.options.effect){for(var i=t.getElementsByClassName("slider-copy"),n=i.length-1;n>=0;n--)t.removeChild(i[n]);for(var r=(s=Array.prototype.slice.call(t.children).filter((function(t){return-1!==t.className.indexOf("slider-item")}))).length,a=e.options.loopedSlides||1,o=0;o<r;o++){if(o+a-r>=0){var c=s[o+0].cloneNode(!0);c.classList.add("slider-copy"),c.classList.remove("slider-active"),t.insertBefore(c,s[0])}if(o-a<0){var d=s[o].cloneNode(!0);d.classList.add("slider-copy"),d.classList.remove("slider-active"),t.appendChild(d)}}}e.$nextTick((function(){e.slide(e.data.currentPage,"animationnone")}))}),0)},fadeDom:function(){for(var t=this.data.currentPage,e=this.$el.getElementsByClassName("slider-wrapper")[0].getElementsByClassName("slider-item"),s=this.options.speed,i=0;i<e.length;i++)i===t||i===t+1?(e[i].style.opacity="1",e[i].style["transition-property"]="opacity",e[i].style[this.s_data.prefixes.transition+"-duration"]=(this.s_data.animation?s||300:0)+"ms"):(e[i].style.opacity="0",e[i].style[this.s_data.prefixes.transition+"-duration"]=(this.s_data.animation?s||300:0)+"ms")},judgeParentSlider:function(t){return t.$parent&&t.$parent.$vnode&&"slider"===t.$parent.$options._componentTag?t.$parent:(!t.$parent||void 0!==t.$parent.$vnode)&&this.judgeParentSlider(t.$parent)}},components:{renderpagination:{render:function(t){var e=this.index,s=this.options.renderPagination;return s.call(this,t,e)},name:"renderpagination",props:{index:{type:Number,required:!0},options:{type:Object,required:!0}}}}},c=(s(490),s(4)),d=Object(c.a)(o,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"slider-container",class:t.s_data.containerClass,on:{mouseleave:t.swipeOut}},[s("div",{staticClass:"slider-touch",style:t.styleobj,on:{touchmove:t.swipeMove,touchstart:t.swipeStart,touchend:t.swipeEnd,mousedown:t.swipeStart,mouseup:t.swipeEnd,mousemove:t.swipeMove,"webkit-transition-end":t.onTransitionEnd,transitionend:t.onTransitionEnd,transitioncancel:t.onTransitionEnd,"webkit-transition-cancel":t.onTransitionEnd}},[0===t.pages.length?s("div",{staticClass:"slider-wrapper",class:t.classObject},[t._t("default")],2):t._e()]),t._v(" "),t.s_data.pagination?s("div",{staticClass:"slider-pagination slider-pagination-bullets"},[t._l(t.pagenums||t.s_data.sliderLength,(function(e){return[t.options.renderPagination?t._e():s("span",{key:e,staticClass:"slider-pagination-bullet",class:e-1===t.data.currentPage?"slider-pagination-bullet-active":"",on:{click:function(s){return t.slide(e-1)}}}),t._v(" "),t.options.renderPagination?s("renderpagination",{key:e,class:e-1===t.data.currentPage?"slider-pagination-bullet-active-render":"",attrs:{index:e,options:t.options},nativeOn:{click:function(s){return t.slide(e-1)}}}):t._e()]}))],2):t._e(),t._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:!t.pagenums&&0===t.s_data.sliderLength||t.s_data.loading,expression:"(!pagenums && s_data.sliderLength === 0)||s_data.loading"}],staticClass:"slider-loading"},[t._t("loading")],2)])}),[],!1,null,null,null).exports,l={props:["index","pageLength"],name:"slideritem",data:function(){return{slideClass:{"slider-item":!0,"slider-active":!1},data:{start:{},end:{},index:this.index?this.index:this.$vnode.key,$el:""}}},mounted:function(){this.renderDom(),this.data.$el=this.$el},methods:{touchStart:function(t){if("touchstart"===t.type){if(t.touches.length>1)return this.data.tracking=!1,!1;this.data.start.t=(new Date).getTime(),this.data.start.x=t.targetTouches[0].clientX,this.data.start.y=t.targetTouches[0].clientY,this.data.end.x=t.targetTouches[0].clientX,this.data.end.y=t.targetTouches[0].clientY,this.data.start.pageX=t.targetTouches[0].pageX,this.data.start.pageY=t.targetTouches[0].pageY}else this.data.start.t=(new Date).getTime(),this.data.start.x=t.clientX,this.data.start.y=t.clientY,this.data.end.x=t.clientX,this.data.end.y=t.clientY,this.data.start.pageX=t.pageX,this.data.start.pageY=t.pageY},touchEnd:function(t){var e=(new Date).getTime()-this.data.start.t;"touchend"===t.type?(this.data.end.t=(new Date).getTime(),this.data.end.x=t.changedTouches[0].clientX,this.data.end.y=t.changedTouches[0].clientY,this.data.end.pageX=t.changedTouches[0].pageX,this.data.end.pageY=t.changedTouches[0].pageY):(this.data.end.t=(new Date).getTime(),this.data.end.x=t.clientX,this.data.end.y=t.clientY,this.data.end.pageX=t.pageX,this.data.end.pageY=t.pageY);var s=this.data.end.pageX-this.data.start.pageX||0,i=this.data.end.pageY-this.data.start.pageY||0;e<300&&Math.abs(s)<10&&Math.abs(i)<10&&this.$emit("tap",this.data)},renderDom:function(){this.$parent&&this.$parent.renderDom(this.$el)},addActive:function(){this.slideClass["slider-active"]=!0},removeActive:function(){this.slideClass["slider-active"]=!1},onTransitionEnd:function(t){this.$parent&&this.$parent.onItemTransitionEnd(t)},transform:function(){var t=this.$parent.options,e=this.$parent.data,s=this.$parent.s_data;if(!t||!e||!s||!this.$el||"coverflow"!==t.effect)return{};var i=this.index,n=s.pageWidth/2-this.$el.offsetWidth/2,r=n-s.deviation+"px",a=n+s.deviation+"px",o=n+"px",c={};return i===e.currentPage-1||i===this.pageLength-2&&-1===e.currentPage?(c.transform="translate3D("+r+",0 ,0) scale3d("+s.widthScalingRatio+","+s.heightScalingRatio+",1)",c.opacity="1","left"===e.direction?c["z-index"]="10":c["z-index"]="1"):i===e.currentPage+1||1===i&&e.currentPage===this.pageLength?(c.transform="translate3D("+a+",0 ,0)",c.transform="translate3D("+a+",0 ,0) scale3d("+s.widthScalingRatio+","+s.heightScalingRatio+",1)",c.opacity="1","left"===e.direction?c["z-index"]="1":c["z-index"]="10"):i===e.currentPage?(c.transform="translate3D("+o+",0 ,0) scale3d(1,1,1)",c["z-index"]="99",c.opacity="1"):(c.transform="translate3D("+o+",0 ,0)",c.opacity="0"),i===this.pageLength-1&&0===e.currentPage&&(c.transform="translate3D("+r+",0 ,0) scale3d("+s.widthScalingRatio+","+s.heightScalingRatio+",1)",c.opacity="1"),0===i&&e.currentPage===this.pageLength-1&&(c.transform="translate3D("+a+",0 ,0) scale3d("+s.widthScalingRatio+","+s.heightScalingRatio+",1)",c.opacity="1"),(i!==this.pageLength-1&&i!==this.pageLength-2||-1!==e.currentPage)&&(0!==i&&1!==i||e.currentPage!==this.pageLength)||(c.opacity="1",0===i&&(c["z-index"]="99"),i===this.pageLength-1&&(c["z-index"]="99")),c[s.prefixes.transition+"Duration"]=(s.animation?t.speed||300:0)+"ms",c.position="absolute",c}}},u=Object(c.a)(l,(function(){var t=this,e=t.$createElement;return(t._self._c||e)("div",{class:t.slideClass,style:[t.transform(t.index)],on:{touchstart:t.touchStart,touchend:t.touchEnd,mousedown:function(e){return e.preventDefault(),t.touchStart(e)},mouseup:function(e){return e.preventDefault(),t.touchEnd(e)},"webkit-transition-end":t.onTransitionEnd,transitionend:t.onTransitionEnd}},[t._t("default")],2)}),[],!1,null,null,null).exports,h=s(0);function p(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,i)}return s}var f={name:"VueImger",data:function(){return{isLoad:!0,isReload:!1}},props:["id","slid","isLock"],watch:{slid:function(){this.loadImg()}},mounted:function(){this.loadImg()},methods:{loadImg:function(){var t=this,e=this.$refs.img,s=this.slid.sid;e.src=0===s?Object(h.getDressUpIcon)(100,s):Object(h.getDressUpIcon)(this.id,s),this.imgOnload(e,(function(){t.isLoad=!1})),this.imgLoadFail(e,(function(){t.isLoad=!1,t.isReload=!0}))},imgOnload:function(t,e){var s=this;t.onload=t.onreadystatechange=function(){s.readyState&&"loaded"!==s.readyState&&"complete"!==s.readyState||e&&e()}},imgLoadFail:function(t,e){t.onerror=function(t){console.log("Error",t),e&&e()}},reload:function(){this.isLoad=!0,this.isReload=!1,this.loadImg()},onSelect:function(){this.$emit("on-select",function(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?p(Object(s),!0).forEach((function(e){Object(n.a)(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):p(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}({id:+this.id},this.slid,{is_locked:this.isLock}))}}},g=(s(491),Object(c.a)(f,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"wrap"},[s("img",{ref:"img",staticClass:"img",on:{click:t.onSelect}}),t._v(" "),t.isLoad?s("div",{staticClass:"loading"}):t._e(),t._v(" "),t.isReload?s("div",{staticClass:"cover reload",on:{click:t.reload}}):t._e(),t._v(" "),t.isLock?s("div",{staticClass:"cover",class:"islock-"+t.slid.unlock_way,on:{click:t.onSelect}}):t._e()])}),[],!1,null,"093b02c3",null).exports),m=s(30),v=s(48),_={slideData:{},parentSlideData:{},optionsParent:{preventRebound:!0,currentPage:0,tracking:!1,centeredSlides:!0,pagination:!1,slidesPerView:6,thresholdDistance:30,thresholdTime:1e3,loopedSlides:3,slidesToScroll:6,loop:!1},optionsWarp:{effect:"nest",pagination:!1,preventRebound:!0,nested:!0,thresholdDistance:30,thresholdTime:1e3,grabCursor:!0,speed:300,loop:!1},optionsItem:{preventRebound:!0,pagination:!0,thresholdDistance:30,thresholdTime:1e3,grabCursor:!0,speed:300,loop:!1}};function b(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,i)}return s}function w(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?b(Object(s),!0).forEach((function(e){Object(n.a)(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):b(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}var k=[],y=m.dressCfg.defineItemList,x=m.dressCfg.sortList,D=m.dressCfg.sortTge,O=-1,C={data:function(){return w({isInitConfig:!1,count:10,sortList:x.slice(),isAllLockList:[],sexChangeReload:!0,ModeChangeReload:!0,isLoadList:[]},_,{sort:0,page:0,initLockData:{},newDress:{}})},props:["sex","dressUp"],computed:w({},Object(v.c)(["dressMode","list","unlockList","resortId"]),{itemList:function(){if(!this.isInitConfig)return{};console.log("get itemlist");var t=this.sex?k.boy:k.girl;return this.updateNewDressSidList(t),!1!==this.dressMode?Object.assign({},t,y):t}}),watch:{dressMode:function(t,e){/^[\d]+$/.test(t)&&/^[\d]+$/.test(e)||(this.resetDressupMode(),this.resetSlider("ModeChangeReload"),this.resetSlider("sexChangeReload"))},sex:function(t,e){this.resetSlider("ModeChangeReload"),this.resetSlider("sexChangeReload")}},mounted:function(){this.init()},components:{slider:d,slideritem:u,vueImger:g},methods:{updateNewDressSidList:function(t){var e=this;Object.keys(this.unlockList).forEach((function(s){var i;if(!e.resortId||e.resortId===+s){var n=e.unlockList[s],r=t[s][0],a=[],o=!1;0===r.sid&&(o=t[s].shift()),t[s]=t[s].filter((function(t){var s=n.indexOf(+t.sid);return-1!==s?(s<O||e.resortId?a.unshift(t):a.push(t),!1):(O=s,!0)})),O=-1,(i=t[s]).unshift.apply(i,a),o&&t[s].unshift(o)}}))},init:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){var i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$nextTick();case 2:return e.next=4,s.e(21).then(s.bind(null,518));case 4:i=e.sent,t.isLoadList=i.default.isLoadList,k=i.default.itemList,t.count=i.default.count,t.isInitConfig=!0;case 9:case"end":return e.stop()}}),e)})))()},updateNewDress:function(){this.newDress=h.newDressStorage.get()},setIsAllLockData:function(t){this.isAllLockList=t},setLockData:function(t){this.initLockData=t},checkIsLock:function(t,e){try{return e.is_locked?!(this.initLockData[t].indexOf(+e.sid)>-1):e.is_locked||!1}catch(s){return e.is_locked||!1}},resetLockData:function(t,e){var s=w({},this.initLockData);s[t]||(s[t]=[]),s[t].push(e),this.initLockData=s},resetDressupMode:function(){!1!==this.dressMode?this.sortList=D.slice():this.sortList=x.slice()},resetSlider:function(t){var e=this;this[t]=!1,this.$nextTick((function(){e[t]=!0}))},shouldLoad:function(t,e){try{return this.isLoadList[t][e-1]}catch(s){return!1}},pageSlice:function(t){try{return Math.ceil(this.itemList[t].length/this.count)}catch(e){return 0}},itemSlice:function(t,e){try{return this.itemList[t].slice((e-1)*this.count,e*this.count)}catch(s){return[]}},onSliderParentClick:function(t){this.$refs.sliderParent.$emit("slideTo",t.index),this.$refs.slider.$emit("slideTo",t.index),this.$refs.sonSlider[t.index].$emit("slideTo",0)},slide:function(t){this.sort=t.currentPage,this.slideData=t,this.slideData.currentPage!==this.parentSlideData.currentPage&&this.$refs.sliderParent.$emit("slideTo",t.currentPage)},onSlideItem:function(t){this.page=t.currentPage,this.resetLoadList()},sliderParent:function(t){this.parentSlideData=t,this.page=0,this.resetLoadList()},onClickDress:function(t){this.$emit("on-select",t)},resetLoadList:function(){try{var t=this.sortList[this.sort],e=(this.isLoadList[t]||[]).slice();if(this.isLoadList[t]&&this.isLoadList[t][this.page])return;e[this.page]=1,this.isLoadList=w({},this.isLoadList,Object(n.a)({},t,e))}catch(s){console.log("resetLoadList cause error",s)}}}},S=(s(492),Object(c.a)(C,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{staticClass:"sort_list"},[t.ModeChangeReload?s("slider",{ref:"sliderParent",attrs:{options:t.optionsParent},on:{slide:t.sliderParent}},t._l(t.sortList,(function(e,i){return s("slideritem",{directives:[{name:"show",rawName:"v-show",value:+e,expression:"+item"}],key:i,staticClass:"pr sort_list-item",class:"sort_list-"+e,on:{tap:t.onSliderParentClick}},[s("div",{directives:[{name:"show",rawName:"v-show",value:t.newDress[e]||"22"===e,expression:"newDress[item]||item==='22'"}],staticClass:"pa id-new"}),t._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:-1!==t.isAllLockList.indexOf(+e),expression:"isAllLockList.indexOf(+item)!==-1"}],staticClass:"pa id-lock"})])})),1):t._e()],1),t._v(" "),s("div",{staticClass:"dress_list"},[t.sexChangeReload?s("slider",{ref:"slider",attrs:{options:t.optionsWarp},on:{slide:t.slide}},[t._l(t.sortList,(function(e){return s("slideritem",{key:e},[s("slider",{ref:"sonSlider",refInFor:!0,attrs:{options:t.optionsItem},on:{slide:t.onSlideItem}},t._l(t.pageSlice(e),(function(i){return s("slideritem",{key:i,staticClass:"dress_list-box"},[t.shouldLoad(e,i)?t._l(t.itemSlice(e,i),(function(i,n){return s("div",{key:n,staticClass:"dress_list-item",class:t.dressUp[e]===i.sid?"dress_list-itact":""},[s("vueImger",{attrs:{isLock:t.checkIsLock(e,i),id:e,slid:i},on:{"on-select":t.onClickDress}}),t._v(" "),s("p",{staticClass:"dress_list-level",class:["dress_list-level-"+i.class,t.dressUp[e]===i.sid?"dress_list-level-act":""]},[t._v(t._s(i.class))]),t._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:t.newDress[e]&&-1!==t.newDress[e].indexOf(+i.sid),expression:"newDress[sort]&&newDress[sort].indexOf(+slid.sid)!==-1"}],staticClass:"dress_list-new"}),t._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:i.isNew,expression:"slid.isNew"}],staticClass:"dress_list-cfnew"})],1)})):t._e()],2)})),1)],1)})),t._v(" "),s("div",{attrs:{slot:"loading"},slot:"loading"},[s("div",{staticClass:"loadingDot"},[s("i"),t._v(" "),s("i"),t._v(" "),s("i"),t._v(" "),s("i")])])],2):t._e()],1)])}),[],!1,null,"3f3078f2",null).exports);function j(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,i)}return s}var $,P=m.dressCfg.needDoubleId,I=m.dressCfg.pids,L=m.dressCfg.bgId,E={};I.forEach((function(t){E[t]=function(){if(!this.isInitConfig)return{};var e=parseInt(t),s=P.indexOf(e.toString())>-1;s&&(e/=10);var i=$[e],n=this.dressUp[e],r=i&&i.b[n];if(4===e&&0!==n?this.isExprss=!0:4===e&&0===n&&(this.isExprss=!1),!r)return{};var a=n?Object(h.getDressUpUrl)(e,n):"",o={width:r.w+"rem",height:r.h+"rem",backgroundImage:"url(".concat(a,")"),zIndex:i.z||1,top:r.y?r.y+"rem":0,display:this.isExprss&&this.filterDress(e)?"none":"block"};return s?Object.assign(o,{right:r.x?r.x+"rem":0,transform:"rotateY(180deg)"}):o.left=r.x?r.x+"rem":0,o}}));var T={data:function(){return{isInitConfig:!1,personalPids:I.filter((function(t){return t!==L})),isExprss:!1,bgId:L}},props:{dressUp:{type:Object,default:function(){return{}}},isHideBg:{type:Boolean,default:!1},isMoji:{type:Boolean,default:!1}},methods:{getStyle:function(t){return this[t]},getBgStyle:function(){var t=this.dressUp[L];return/1|3|6/.test(this.dressMode)&&(t="100".concat(this.dressMode)),t?{backgroundImage:"url(".concat(Object(h.getDressUpUrl)(L,t),")")}:{}},dressUpTogther:function(t){return"dressTgr".concat(this.dressMode,"-").concat(t)},filterDress:function(t){return this.isMoji?/^(5|7|8|6|12)/.test(t):Object(h.isENM)(t)},init:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){var i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.e(1).then(s.bind(null,517));case 2:i=e.sent,$=i.default,t.isInitConfig=!0;case 5:case"end":return e.stop()}}),e)})))()}},computed:function(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?j(Object(s),!0).forEach((function(e){Object(n.a)(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):j(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}({},E,{},Object(v.c)(["dressMode","inviteImage"])),created:function(){this.init()}},U=(s(493),Object(c.a)(T,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"dress pr"},[!1!==t.dressMode?s("img",{staticClass:"pa dress-friend",class:t.dressUpTogther("friend"),attrs:{src:t.inviteImage,alt:""}}):t._e(),t._v(" "),s("div",{staticClass:"dress-personal pa",class:t.dressUpTogther("me")},t._l(t.personalPids,(function(e,i){return s("div",{key:i,staticClass:"dress-assets pa",style:t.getStyle(e)})})),0),t._v(" "),t.isHideBg?t._e():s("div",{directives:[{name:"show",rawName:"v-show",value:!t.isMoji,expression:"!isMoji"}],staticClass:"pa dress-bg",style:t.getBgStyle()}),t._v(" "),t.isHideBg?t._e():s("div",{staticClass:"pa dress-effect",attrs:{id:"DressEffect"}})])}),[],!1,null,"1823c4d2",null).exports);function R(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,i)}return s}var M,N=m.dressCfg.needDoubleId,A=m.dressCfg.pids,B=m.dressCfg.bgId,H={};A.forEach((function(t){H[t]=function(){if(!this.isInitConfig)return{};var e=parseInt(t),s=N.indexOf(e.toString())>-1;s&&(e/=10);var i=M[e],n=this.dressUp[e],r=i&&i.b[n];if(4===e&&0!==n?this.isExprss=!0:4===e&&0===n&&(this.isExprss=!1),/1|3|6/.test(this.dressMode)&&17===e&&(n="100".concat(this.dressMode)),!r)return{};var a=n?Object(h.getDressUpUrl)(e,n):"",o={width:r.w+"rem",height:r.h+"rem",backgroundImage:"url(".concat(a,")"),zIndex:i.z||1,top:r.y?r.y+"rem":0,display:this.isExprss&&this.filterDress(e)?"none":"block"};return s?Object.assign(o,{right:r.x?r.x+"rem":0,transform:"rotateY(180deg)"}):o.left=r.x?r.x+"rem":0,o}}));var z={data:function(){return{isInitConfig:!1,personalPids:A.filter((function(t){return t!==B})),isExprss:!1,bgId:B}},props:{dressUp:{type:Object,default:function(){return{}}},isHideBg:{type:Boolean,default:!1},isMoji:{type:Boolean,default:!1}},methods:{getStyle:function(t){return this[t]},filterDress:function(t){return this.isMoji?/^(5|7|8|6|12)/.test(t):Object(h.isENM)(t)},init:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){var i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.e(1).then(s.bind(null,517));case 2:i=e.sent,M=i.default,t.isInitConfig=!0;case 5:case"end":return e.stop()}}),e)})))()}},computed:function(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?R(Object(s),!0).forEach((function(e){Object(n.a)(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):R(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}({},H,{},Object(v.c)(["dressMode","inviteImage"])),created:function(){this.init()}},W=(s(494),Object(c.a)(z,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"dress pr"},[s("div",{staticClass:"dress-personal pa"},t._l(t.personalPids,(function(e,i){return s("div",{key:i,staticClass:"dress-assets pa",style:t.getStyle(e)})})),0)])}),[],!1,null,"65da9e49",null).exports),X=s(19),Y=s(1),G=s(484),F=s(56),V=s(73),q={data:function(){return{img:""}},props:["dreInfo","isShow","onClick","onClose"],computed:{},methods:{onClickDress:function(){this.onClick&&this.onClick(),this.onClose&&this.onClose()},onCloses:function(){this.onClose&&this.onClose()},getDressUpIcon:h.getDressUpIcon},components:{AppBtn:V.a,CommonDialog:F.a}},J=(s(497),Object(c.a)(q,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("CommonDialog",{attrs:{show:t.isShow,onClose:t.onCloses}},[s("p",{staticClass:"title"},[t._v(t._s(t.$t("hasGift")))]),t._v(" "),s("div",{staticClass:"pr box"},[s("img",{staticClass:"image",attrs:{src:t.getDressUpIcon(t.dreInfo.id,t.dreInfo.sid)}}),t._v(" "),s("p",{staticClass:"pa level"},[t._v(t._s(t.dreInfo.class))])]),t._v(" "),s("AppBtn",{staticClass:"share-btn new",nativeOn:{click:function(e){return t.onClickDress(e)}}},[t._v(t._s(t.$t("dressNow").toUpperCase()))])],1)}),[],!1,null,"62a5a19e",null).exports);s(108),s(8),s(49);function K(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,i)}return s}function Q(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?K(Object(s),!0).forEach((function(e){Object(n.a)(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):K(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}var Z,tt=m.default.params,et=m.dressCfg.needDoubleId,st=tt.inviteUid,it={data:function(){return{inviteName:"",nickName:h.nickName,inviteAvatar:""}},props:["sexes","dressUp","dressScore","reverseHideStatus","uploadAllImg","upLoadOneImg","setInviteName","isChange","isNewUser"],computed:Q({},Object(v.c)(["dressMode","image","gender","sex"])),components:{AppBtn:V.a},created:function(){var t=this;Y.default.$on("save",function(){var e=Object(r.a)(regeneratorRuntime.mark((function e(s){var i,n=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=!(n.length>1&&void 0!==n[1])||n[1],e.next=3,t.save(i);case 3:s();case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},methods:{onHome:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$store.dispatch("initHomePageData");case 2:t.$store.state.playPgEnterType=3,t.image?t.$router.replace("appEntry"):t.$store.commit("changeDressMode",{dressMode:!1});case 4:case"end":return e.stop()}}),e)})))()},resendIM:function(t){var e=this;return Object(r.a)(regeneratorRuntime.mark((function s(){var i;return regeneratorRuntime.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,X.a.inviteFriendPhoto({uid:+st,url:t});case 2:if(1===s.sent.code){s.next=5;break}return s.abrupt("return",Y.default.$emit("showToast",e.$t("serverError")));case 5:i={uid:+st,title:e.$t("photoComplete"),nick:e.inviteName,avatar:e.inviteAvatar,url:Object(h.getImBgUrl)(),jump_url:"".concat(Object(h.getBaseImUrl)(),"completeImage=").concat(encodeURIComponent(t))},console.log("callData",i),h.hagoAppCall.im.sendIMDressupInviteMessage(i);case 8:case"end":return s.stop()}}),s)})))()},onPhoto:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){var s,i,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.$store.dispatch("Svga/showSavingSvga"),t.report({function_id:"for_photo_pg_photo_click",dre_type:Object(h.getDressStr)(t.dressUp)}),s=st||t.$store.state.photoTogtherUid,console.log("uid",s),e.next=6,X.a.getUserInfo(s);case 6:return i=e.sent,t.inviteName=i.data.user_info[0].nick,t.setInviteName(t.inviteName),t.reverseHideStatus(),e.next=12,t.upLoadOneImg();case 12:n=e.sent,t.reverseHideStatus(),t.$store.state.composeImage=n,t.$store.commit("showAppPost","compose"),t.report({function_id:"photo_result_show",photo_source_enter_type:1}),t.resendIM(n),t.$store.commit("Svga/hideSavingSvga");case 19:case"end":return e.stop()}}),e)})))()},onCancel:function(){this.$store.state.playPgEnterType=9,this.$router.replace("appEntry")},onSave:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.report({function_id:"dre_pg_save_click",dre_type:Object(h.getDressStr)(t.dressUp),dre_score:t.dressScore}),!t.isChange()&&t.image){e.next=8;break}return e.next=4,t.save();case 4:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:t.$store.state.isSave=!0;case 8:t.$router.replace("appEntry");case 9:case"end":return e.stop()}}),e)})))()},onSaveIndex:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.isChange()&&t.image){e.next=5;break}return e.next=3,t.save();case 3:e.next=6;break;case 5:t.$router.replace("appEntry");case 6:case"end":return e.stop()}}),e)})))()},handelDressList:function(){var t=this,e=[];return Object.keys(this.dressUp).map((function(s){var i={id:+s,sid:+t.dressUp[s]};-1===et.indexOf(s)&&100!==+s&&e.push(i)})),e},save:function(){var t=this,e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return Object(r.a)(regeneratorRuntime.mark((function s(){var i,n;return regeneratorRuntime.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return e?t.$store.dispatch("Svga/showSavingSvga"):Y.default.$emit("showLoading"),t.$store.commit("Svga/hideEffectSvga"),s.next=4,t.uploadAllImg();case 4:if(s.t0=s.sent,s.t0){s.next=7;break}s.t0={};case 7:if((i=s.t0).image&&i.personal_image&&i.logo_image&&i.raw_image&&i.emoji){s.next=12;break}return t.$store.commit("Svga/hideSavingSvga"),Y.default.$emit("hideLoading").$emit("showToast",t.$t("imgFail")),s.abrupt("return",!1);case 12:return s.next=14,X.a.setOrnament(Q({sex:t.sexes,list:t.handelDressList(),gender:t.gender},i,{sex_change:t.sexes!==t.sex,score:t.dressScore,efficacy_url:t.dressUp[22]?Object(h.getDressUpEffect)(22,t.dressUp[22]):""}));case 14:if(n=s.sent,e?t.$store.commit("Svga/hideSavingSvga"):Y.default.$emit("hideLoading"),1===n.code){s.next=18;break}return s.abrupt("return",Y.default.$emit("showToast",t.$t("serverError")));case 18:return t.$store.commit("changeDress",!1),t.$store.state.playPgEnterType=t.image?9:1,t.$store.state.image=i.image,s.abrupt("return",!0);case 22:case"end":return s.stop()}}),s)})))()}}},nt=(s(500),Object(c.a)(it,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"dressup_btn-main"},[t._t("default"),t._v(" "),i("div",{staticClass:"dressup_btn-group"},[!1!==t.dressMode?[i("AppBtn",{attrs:{size:"small",type:"ghost",onClick:t.onHome}},[i("img",{staticClass:"dressup_btn-icon",attrs:{src:s(498)}}),t._v(" "+t._s(t.$t("home").toUpperCase())+"\n      ")]),t._v(" "),i("AppBtn",{staticClass:"dressup_btn-right",attrs:{size:"small",onClick:t.onPhoto}},[i("img",{staticClass:"dressup_btn-icon",attrs:{src:s(499)}}),t._v(" "+t._s(t.$t("shoot"))+"\n      ")])]:[t.isNewUser?[i("AppBtn",{staticClass:"dressup_btn-first",attrs:{size:"small",onClick:t.onSave}},[t._v("\n          "+t._s(t.$t("joinParty").toUpperCase())+"\n        ")])]:[i("AppBtn",{attrs:{size:"small",type:"ghost",onClick:t.onCancel}},[t._v(t._s(t.$t("cancel")))]),t._v(" "),i("AppBtn",{staticClass:"dressup_btn-right",attrs:{size:"small",onClick:t.onSave}},[t._v(t._s(t.$t("save")))])]]],2)],2)}),[],!1,null,"150a3f38",null).exports),rt=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,s={};return new Promise((function(i,n){var r=t.length,a=0;function o(){a++,r===a&&i()}t.forEach((function(t,i){s[a]=0;var n=new Image;n.onload=o,n.onerror=function(i){s[a]=s[a]+1,s[a]<=e?n.src=t:o()},n.src=t}))}))},at=s(480);function ot(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,i)}return s}var ct,dt={data:function(){return{isShowCountDown:!1,countDown:4e3,isShowTip:!1}},props:["dreInfo","isShow","onClick","onClose","onClickTicket"],computed:function(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?ot(Object(s),!0).forEach((function(e){Object(n.a)(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):ot(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}({},Object(v.c)(["fragments","ticket","cardConfig","cd","time","cards"]),{btnColor:function(){return{backgroundColor:1===this.dreInfo.unlock_way?"#13c556":"#ff5e7d"}},cardsNum:function(){return this.cardConfig[this.dreInfo.class]||1},btnEnable:function(){return this.cards<this.cardsNum?{backgroundColor:"#ccc"}:{}}}),watch:{isShow:function(){this.isShowTip=h.Storage.get("hasShowTicketGuide"),3===this.dreInfo.unlock_way&&this.timerRun(this.isShow)}},methods:{getDressUpIcon:h.getDressUpIcon,timerRun:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.isShow){e.next=5;break}return t.isShowCountDown=!1,clearInterval(Z),console.log("关掉timer"),e.abrupt("return");case 5:return e.next=7,t.$store.dispatch("initMatchInfo",!1);case 7:t.time>0&&(console.log("启动timer"),t.isShowCountDown=!0,t.countDown=Number(t.time),Z=setInterval((function(){t.countDown--,0===t.countDown&&(clearInterval(Z),t.isShowCountDown=!1,t.$store.dispatch("initMatchInfo"))}),1e3));case 8:case"end":return e.stop()}}),e)})))()}},components:{AppBtn:V.a,CommonDialog:F.a,CommonBubble:at.a}},lt=(s(503),Object(c.a)(dt,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("CommonDialog",{attrs:{show:t.isShow,onClose:t.onClose}},[i("div",{staticClass:"pr box"},[t.dreInfo.sid?i("img",{staticClass:"image",attrs:{src:t.getDressUpIcon(t.dreInfo.id,t.dreInfo.sid)}}):t._e(),t._v(" "),i("p",{staticClass:"pa level"},[t._v(t._s(t.dreInfo.class))])]),t._v(" "),i("div",{staticClass:"title"},[i("p",{staticClass:"line"}),t._v(" "),i("p",{staticClass:"text"},[t._v(t._s(t.$t("getWay")))]),t._v(" "),i("p",{staticClass:"line"})]),t._v(" "),i("AppBtn",{staticClass:"btn-nor",attrs:{styleObj:t.btnColor},nativeOn:{click:function(e){return t.onClick(e)}}},[i("div",{staticClass:"btn-wrap"},[1===t.dreInfo.unlock_way?[i("img",{staticClass:"btn-game",attrs:{src:s(501),alt:""}}),t._v(" "),i("span",[t._v(t._s(t.$t("win")))])]:[i("div",{staticClass:"cb-num"},[t._v(t._s(t.ticket))]),t._v(" "),i("span",[t._v(t._s(t.$t("match").toUpperCase()))]),t._v(" "),i("span",{staticClass:"change"},[t._v(" ( "+t._s(t.$t("chance"))+" ) ")]),t._v(" "),t.time>0?i("p",{directives:[{name:"show",rawName:"v-show",value:t.isShowCountDown,expression:"isShowCountDown"}],staticClass:"time"},[t._v(t._s(t._f("formatCountDown")(t.countDown)))]):t._e()]],2)]),t._v(" "),t.isShowTip?t._e():i("CommonBubble",{directives:[{name:"show",rawName:"v-show",value:!t.btnEnable.backgroundColor,expression:"!btnEnable.backgroundColor"}],staticClass:"tip-bub",attrs:{text:t.$t("ticketTip")}}),t._v(" "),i("AppBtn",{staticClass:"last-btn btn-wrap btn-nor",style:t.btnEnable,nativeOn:{click:function(e){return t.onClickTicket(e)}}},[i("img",{staticClass:"btn-ticket",attrs:{src:s(502),alt:""}}),t._v(" "),i("span",{staticClass:"ticket-num"},[t._v("-"+t._s(t.cardsNum)+" ")]),t._v(" "),i("span",[t._v(" "+t._s(t.$t("useUnlock")))])])],1)}),[],!1,null,"04c68589",null).exports),ut=s(482),ht=s(3),pt=s.n(ht),ft={components:{CommonDialog:F.a,AppBtn:V.a},props:{show:{type:Boolean,default:!1},onClick:{type:Function,default:function(){}},btnText:String,onClose:{type:Function,default:function(){}},tip:String,title:String}},gt=(s(508),Object(c.a)(ft,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("CommonDialog",{attrs:{show:t.show,onClose:t.onClose}},[s("p",{staticClass:"card_title"},[t._v(t._s(t.title))]),t._v(" "),s("div",{staticClass:"card_bg pr"}),t._v(" "),s("p",{staticClass:"card_tip",domProps:{innerHTML:t._s(t.tip)}}),t._v(" "),s("AppBtn",{staticClass:"card_btn",attrs:{onClick:t.onClick}},[t._v(t._s(t.btnText))]),t._v(" "),t._t("default")],2)}),[],!1,null,"036223d4",null).exports),mt=s(130),vt={data:function(){return{step:1,show:!1,isShowUnlockModal:!1,cards:0}},methods:{onClick:function(){if(11===this.step){if(this.cards)return void(this.show=!1);this.step=3,Y.default.report("card_pop_show"),this.isShowUnlockModal=!0}1===this.step&&(this.step=11),2===this.step&&(this.show=!1)},onClose:function(){this.get()},onGet:function(){Y.default.report("card_pop_get_but_click"),this.get()},get:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.show=!1;case 1:case"end":return e.stop()}}),e)})))()}},computed:{tip:function(){return{1:this.$t("newUserTxt")+"<br>"+this.$t("newUserTxt2"),11:this.$t("unlockGiftTip"),2:this.$t("effectWinTip")}[this.step]}},components:{UnlockCardDialog:gt}},_t=(s(509),Object(c.a)(vt,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{directives:[{name:"show",rawName:"v-show",value:t.show,expression:"show"}]},[t.isShowUnlockModal?s("UnlockCardDialog",{attrs:{show:t.isShowUnlockModal,title:t.$t("unlockCard").toUpperCase(),onClose:t.onClose,onClick:t.onGet,btnText:t.$t("gotIt")}}):s("div",{staticClass:"wrap"},[s("div",{staticClass:"wrap-shadow pa",class:"wrap-shadow-"+t.step,on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.onClick(e)}}}),t._v(" "),s("div",{staticClass:"guide-wrap",class:"guide-wrap-"+t.step},[s("div",{staticClass:"guide-bean pa"}),t._v(" "),s("div",{staticClass:"guide-tip pa",domProps:{innerHTML:t._s(t.tip)}})])])],1)}),[],!1,null,"33bc340f",null).exports),bt=pt.a.extend(_t);function wt(){var t=new bt;t.vm=t.$mount(),document.body.appendChild(t.vm.$el),ct=t.vm,yt.vm=ct}var kt,yt={close:function(){ct.show=!1},show:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(r.a)(regeneratorRuntime.mark((function e(){var s,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s=mt.default.state.cards,i=h.Storage.get("hasShowUserGuide"),ct||wt(),ct.cards=s,!i){e.next=12;break}if(!h.Storage.get("hasGetUnlockCard")&&!s){e.next=8;break}return e.abrupt("return");case 8:return ct.isShowUnlockModal=!0,Y.default.report("card_pop_show"),ct.show=!0,e.abrupt("return");case 12:h.Storage.set("hasShowUserGuide",!0),ct.onOk=t.onOk||function(){},ct.show=!0;case 15:case"end":return e.stop()}}),e)})))()},show2:function(){console.log("show2");var t=h.Storage.get("hasShowEffect");ct||wt(),t||(ct.step=2,ct.show=!0,ct.isShowUnlockModal=!1,h.Storage.set("hasShowEffect",!0))},vm:ct},xt=yt,Dt=s(483);function Ot(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,i)}return s}function Ct(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?Ot(Object(s),!0).forEach((function(e){Object(n.a)(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):Ot(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}var St=m.default.params,jt=m.dressCfg.initDressup,$t=m.dressCfg.dressTogther,Pt=m.dressCfg.isAllLockList,It=m.dressCfg.sortList,Lt=m.dressCfg.effectId,Et={},Tt="",Ut=[{id:4,sid:5},{id:4,sid:28},{id:4,sid:8},{id:4,sid:3},{id:17,sid:0},{id:999,sid:0}],Rt={},Mt=Pt.slice(),Nt={name:"DressPage",data:function(){return{isInitConfig:!1,EMojiDressUp:{},dressUp:{},sexes:0,text:12,dressScoreObj:{},isWatermark:!1,newDressInfo:{isShow:!1,dreInfo:{class:"A",id:"1",sid:1}},selectDress:{},inviteName:"",inviteAvatar:"",isWin:!1,block:{},startDt:"",mojiIndex:7,originDress:{},isNewUser:!1,lockDressInfo:{isShow:!1,dreInfo:{class:"A",id:"1",sid:1}}}},beforeRouteEnter:function(t,e,s){s(function(){var t=Object(r.a)(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.isInitConfig){t.next=3;break}return t.next=3,e.init();case 3:e.image?e.isNewUser=!1:(e.isNewUser=!0,xt.show()),e.startDt=(new Date).getTime(),e.isFromTPhoto&&e.report("for_photo_page_show"),e.report("dre_page_show"),e.beforeRouteEnter();case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())},beforeRouteLeave:function(t,e,s){var i=this;return this.$store.state.isShowAppPost=!1,this.$store.state.isShowRule=!1,this.newDressInfo.isShow?(this.onNewDressClose(),void s(!1)):this.$Modal.vm&&this.$Modal.vm.show?(console.log("this.$Modal false"),this.$Modal.close(),void s(!1)):!1!==this.dressMode?(this.report({function_id:"for_photo_pg_show",start_dt:this.startDt,end_dt:(new Date).getTime()}),void s(!0)):(this.report({function_id:"dre_pg_show",start_dt:this.startDt,end_dt:(new Date).getTime(),dre_type:Object(h.getDressStr)(this.dressUp),dre_enter_type:3}),void(!this.$store.state.isSave&&this.isChange()||!this.image?this.$modal({type:"confirm",noTxt:this.$t("discard"),okTxt:this.$t("save"),content:this.$t("youImage"),ok:function(){var t=Object(r.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i.report({function_id:"back_pop_save_click",dre_type:Object(h.getDressStr)(i.dressUp),dre_score:i.dressScore}),t.next=3,i.$refs.dressBottom.save();case 3:i.$store.dispatch("initHomePageData"),s(!0);case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),no:function(){if(!i.image)return h.hagoAppCall.ui.exitWebView(),void s(!1);s(!0)}}):(this.$store.dispatch("initHomePageData"),s(!0))))},beforeCreate:function(){Y.default.$emit("showLoading")},mounted:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){var i,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(i=t.flexHeight())>8&&(t.block={marginTop:"".concat(i,"px")}),t.setEmmiter(),e.next=5,t.$nextTick();case 5:return h.svga.play({selector:"#changing",url:s(197)}),n=(n=(n=[]).concat(t.preloadImg(t.dressUp))).concat(t.preloadImg(t.dressupInit)),e.next=11,rt(n);case 11:Y.default.$emit("hideLoading");case 12:case"end":return e.stop()}}),e)})))()},computed:Ct({},Object(v.c)(["list","sex","image","dressMode","score","gender","isShowChanging","isDressChange","nick","cd","cards","fragments","ticket","cardConfig"]),{isFromTPhoto:function(){return!1!==this.dressMode||St.inviteUid},dressupInit:function(){return this.sexes?jt.boy:jt.girl},dressScore:function(){var t=this,e=0;return Object.keys(this.dressScoreObj).forEach((function(s){e+=t.dressScoreObj[s]})),e}}),components:{DressPanel:U,SliderNest:S,DressupScore:G.a,GetNewDress:J,IndexBtn:nt,ModalLock:lt,UnlockCard:ut.a,PersonPannel:W},methods:{init:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){var i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.e(1).then(s.bind(null,517));case 2:i=e.sent,kt=i.default,t.isInitConfig=!0;case 5:case"end":return e.stop()}}),e)})))()},beforeRouteEnter:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){var s,i,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(s=t).$store.commit("pushTopBarTitle","dress"),i={},n={};try{s.resetScore(),s.list.forEach((function(t){var e=t.id;t.unlocked&&(n[t.id]=t.unlocked),i[e]=t.wear,Rt[e]=kt[e]&&kt[e].b[t.wear]&&kt[e].b[t.wear].score||0,-1!==Pt.indexOf(+e)&&t.unlocked&&(Mt[Pt.indexOf(+e)]=-1)})),Et=i}catch(r){console.log("beforeRouteEnter",r)}window.scrollTo(0,document.body.scrollHeight),s.$refs.sliderDress.resetDressupMode(),s.$refs.sliderDress.setLockData(n),t.$store.state.unlockList=n,s.$refs.sliderDress.updateNewDress(),s.$refs.sliderDress.setIsAllLockData(Mt),s.sexes=void 0===s.sex?s.gender:s.sex,s.dressScoreObj=Rt,s.$store.commit("changeDress",!1),s.dressUp=Object.assign({},s.dressupInit,i,{100:0}),s.originDress=s.dressUp,s.$store.state.isSave=!1,s.mojiIndex=7;case 18:case"end":return e.stop()}}),e)})))()},isChange:function(){var t=this,e=!1;return Object.keys(this.dressUp).forEach((function(s){t.dressUp[s]!==t.originDress[s]&&(e=!0)})),e},flexHeight:function(){var t=this.$refs.dressTop.offsetTop+this.$refs.dressTop.offsetHeight;return(this.$refs.dressBottom.$el.offsetTop-t)/2},preloadImg:function(t){var e=[];return Object.keys(t).forEach((function(s){t[s]&&18!==+s&&(e.push(Object(h.getDressUpUrl)(s,t[s])),e.push(Object(h.getDressUpIcon)(s,t[s])))})),e},resetScore:function(){var t=this;Object.keys(this.dressupInit).forEach((function(e){Rt[e]=kt[e]&&kt[e].b[t.dressupInit[e]]&&kt[e].b[t.dressupInit[e]].score||0}))},setInviteName:function(t){this.inviteName=t},setEmmiter:function(){var t=this;h.hagoAppCall.$registerSocket("ikxd_activity_d").on("kUriIKXDActivityDressupGameOverNotify",Object(r.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("kUriIKXDActivityDressupGameOverNotify",t.image),t.image){e.next=4;break}return Y.default.$emit("save",Object(r.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.beforeRouteEnter();case 2:t.$refs.sliderDress.updateNewDress(),t.onGameFinish();case 4:case"end":return e.stop()}}),e)}))),!1),e.abrupt("return");case 4:t.onGameFinish();case 5:case"end":return e.stop()}}),e)}))))},onGameFinish:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){var s,i,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=t.selectDress,i=s.id,r=s.sid,t.isWin=!0,t.report({function_id:"game_finish_pop_show",gid:Tt,dre_type:Object(h.getDressStr)(Object(n.a)({},i,r))}),e.next=5,t.$store.dispatch("Svga/showGiftSvga");case 5:t.newDressInfo={isShow:!0,dreInfo:t.selectDress},t.addNewAndSort(i,r),t.lockDressClose();case 8:case"end":return e.stop()}}),e)})))()},addNewAndSort:function(t,e){h.newDressStorage.add(t,e);var s={};this.$refs.sliderDress.resetLockData(t,e),this.$refs.sliderDress.updateNewDress(t,e),Mt[Pt.indexOf(+t)]=-1,this.$refs.sliderDress.setIsAllLockData(Mt),Object.assign(s,{},this.$store.state.unlockList),s[t]?s[t].push(e):s[t]=[e],this.$store.state.unlockList=s,this.$store.state.resortId=t,this.$refs.sliderDress.onSliderParentClick({index:It.indexOf(t.toString())})},createMoji:function(t){var e={};return Object.assign(e,this.dressUp,Object(n.a)({},t.id,t.sid)),e},onChangeSex:function(){var t=this;this.$modal({type:"confirm",noTxt:this.$t("cancel"),okTxt:this.$t("ok"),content:this.$t("changeSex"),ok:function(){var e=Object(r.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.$store.commit("changeDress",!0),t.sexes=0===t.sexes?1:0,t.dressUp=t.dressupInit,t.resetScore(),h.newDressStorage.clear(),e.next=7,Object(h.sleep)(30);case 7:Y.default.$emit("save",Object(r.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.beforeRouteEnter();case 2:t.$refs.sliderDress.updateNewDress();case 3:case"end":return e.stop()}}),e)}))),!1);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()})},onNewDressClose:function(){this.newDressInfo={isShow:!1,dreInfo:{}}},onLockDressClose:function(){this.lockDressClose(),this.report({function_id:"task_pop_cancel_click",task_type:1===this.selectDress.unlock_way?1:2})},lockDressClose:function(){this.lockDressInfo={isShow:!1,dreInfo:{}}},onLockDressClick:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){var s,i,n,r,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s=t.selectDress,i=s.id,n=s.sid,r=s.is_locked,a=s.unlock_way,!r||1!==a){e.next=11;break}return e.next=4,X.a.tryUnlock({id:i,sid:n,gid:Tt});case 4:if(1===e.sent.code){e.next=7;break}return e.abrupt("return",Y.default.$emit("showToast",t.$t("serverError")));case 7:t.report({function_id:"task_pop_game_but_click",gid:Tt}),h.hagoAppCall.base.startGame({gameModel:1,activityId:"dress-up",gameId:Tt,showResultMode:2}),e.next=15;break;case 11:if(!r||3!==a){e.next=15;break}if(h.Storage.get("hasEnterMatch")){e.next=14;break}return e.abrupt("return",Dt.a.show({onOk:function(){t.onEnterMatchPage()}}));case 14:t.onEnterMatchPage();case 15:case"end":return e.stop()}}),e)})))()},onEnterMatchPage:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){var s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$store.dispatch("initMatchInfo",!1);case 2:if(s=e.sent,t.report({function_id:"task_pop_match_but_click",if_succ:0!==t.ticket?1:0}),!0===s){e.next=6;break}return e.abrupt("return");case 6:if(!t.cd){e.next=8;break}return e.abrupt("return",Y.default.$emit("showToast",t.$t("hasnotTime")));case 8:if(!1!==t.dressMode||!t.isChange()){e.next=12;break}return e.next=11,t.$refs.dressBottom.onSaveIndex();case 11:t.$store.state.isSave=!0;case 12:t.$router.push("/matchPage"),t.lockDressClose();case 14:case"end":return e.stop()}}),e)})))()},onLockDressTicket:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){var s,i,n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s=t.selectDress,i=s.id,n=s.sid,!(t.cards<(t.cardConfig[t.selectDress.class]||1))){e.next=4;break}return t.report({function_id:"task_pop_unlock_but_click",if_succ:0}),e.abrupt("return",Y.default.$emit("showToast",t.image?t.$t("notEnoughCard1"):t.$t("notEnoughCard2")));case 4:return e.next=6,X.a.cardUnlock({id:i,sid:n});case 6:r=e.sent,console.log("json",r),1===r.code?(t.addNewAndSort(i,n),t.lockDressInfo={isShow:!1,dreInfo:{}},t.$store.dispatch("initHomePageData"),t.report("card_point_pop_show"),t.newDressInfo={isShow:!0,dreInfo:t.selectDress},t.lockDressClose(),h.Storage.set("hasShowTicketGuide",!0)):Y.default.$emit("showToast",t.image?t.$t("notEnoughCard1"):t.$t("notEnoughCard2")),t.report({function_id:"task_pop_unlock_but_click",if_succ:1===r.code?1:0});case 10:case"end":return e.stop()}}),e)})))()},onClickPlayEffect:function(){var t=this.dressUp[22];t&&this.$store.dispatch("Svga/showEffectSvga",Object(h.getDressUpEffect)(22,t))},onSelectDress:function(t){var e=this;return Object(r.a)(regeneratorRuntime.mark((function s(){var i,r,a;return regeneratorRuntime.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:e.selectDress=t,i=e.selectDress,r=i.id,a=i.sid,Tt=Object(h.getGame)()||"shuiguoqieqieqie_yn",!1===e.dressMode?e.report({function_id:"dre_pg_test_click",dre_type:Object(h.getDressStr)(Object(n.a)({},r,a))}):e.report({function_id:"for_photo_pg_test_click",dre_type:Object(h.getDressStr)(Object(n.a)({},r,a))}),e.changeDress();case 5:case"end":return s.stop()}}),s)})))()},changeDressTogther:function(){var t=this.selectDress,e=t.id,s=t.sid;100===this.selectDress.id?(this.$store.commit("changeDressMode",{dressMode:s}),s=s?$t[s][16]:0,this.selectDress={id:16,score:0,sid:s},this.setDressupData(100,this.dressMode)):16!==e&&17!==e||this.$store.commit("changeDressMode",{dressMode:0})},onGetNewDressClick:function(){var t=this.selectDress,e=t.id,s=t.sid;this.report({function_id:"game_finish_pop_dress_click",gid:Tt,dre_type:Object(h.getDressStr)(Object(n.a)({},e,s))}),this.changeDress()},changeDress:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){var s,i,r,a,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.$store.commit("changeDress",!0),t.$store.state.imgLoading=!0,!1!==t.dressMode&&t.changeDressTogther(),s=t.selectDress,i=s.id,r=s.sid,a=s.score,Et[i]===r&&r!==t.dressupInit[i]&&(r=t.dressupInit[i]),o=Ct({},t.dressScoreObj,Object(n.a)({},i,a)),e.next=8,t.perloadDresses();case 8:t.setDressupData(i,r),h.newDressStorage.delete(i,r),t.dressScoreObj=o,Et[i]=r;case 12:case"end":return e.stop()}}),e)})))()},setDressupData:function(t,e){var s=Ct({},this.dressUp,Object(n.a)({},t,e));Object(h.isENM)(t)&&(s[4]=0,Et[4]=0),this.dressUp=s},perloadDresses:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){var s,i,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s=t.selectDress,i=s.sid,n=s.id,t.$store.commit("showChanging"),100===n||!i||n===+Lt){e.next=6;break}return e.next=5,rt([Object(h.getDressUpUrl)(n,i)]);case 5:console.log("加载大图完成 换装");case 6:if(n!==+Lt){e.next=14;break}if(i&&i!==t.dressUp[Lt]){e.next=11;break}t.$store.commit("Svga/hideEffectSvga"),e.next=14;break;case 11:return e.next=13,h.svga.preload(Object(h.getDressUpEffect)(n,i));case 13:t.$store.dispatch("Svga/showEffectSvga",Object(h.getDressUpEffect)(n,i));case 14:t.$store.commit("hideChanging");case 15:case"end":return e.stop()}}),e)})))()},reverseHideStatus:function(){this.isWatermark=!this.isWatermark},upLoadOneImg:function(){var t=this;return new Promise(function(){var e=Object(r.a)(regeneratorRuntime.mark((function e(s,i){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.handleEmoji(5);case 2:n=e.sent,s(n);case 5:case"end":return e.stop()}}),e)})));return function(t,s){return e.apply(this,arguments)}}())},handleEmoji:function(t){var e=this;return new Promise(function(){var s=Object(r.a)(regeneratorRuntime.mark((function s(i,n){return regeneratorRuntime.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return e.mojiIndex=t,e.EMojiDressUp=e.createMoji(Ut[t]),s.next=4,e.$nextTick();case 4:return s.t0=i,s.next=7,Object(h.getPhoto)(e.$refs.dressUpEmoji);case 7:s.t1=s.sent,(0,s.t0)(s.t1);case 9:case"end":return s.stop()}}),s)})));return function(t,e){return s.apply(this,arguments)}}())},isB64Img:function(t){return t.length>5e3},uploadAllImg:function(){var t=this;return new Promise(function(){var e=Object(r.a)(regeneratorRuntime.mark((function e(s,i){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=[],e.t0=n,e.next=4,Object(h.getPhoto)(t.$refs.dressUp);case 4:return e.t1=e.sent,e.t0.push.call(e.t0,e.t1),e.t2=n,e.next=9,Object(h.getPhoto)(t.$refs.personPannel.$el);case 9:return e.t3=e.sent,e.t2.push.call(e.t2,e.t3),t.reverseHideStatus(),e.next=14,t.$nextTick();case 14:return e.t4=n,e.next=17,t.handleEmoji(5);case 17:return e.t5=e.sent,e.t4.push.call(e.t4,e.t5),t.reverseHideStatus(),e.t6=n,e.next=23,t.handleEmoji(4);case 23:return e.t7=e.sent,e.t6.push.call(e.t6,e.t7),e.t8=n,e.next=28,t.handleEmoji(0);case 28:return e.t9=e.sent,e.t8.push.call(e.t8,e.t9),e.t10=n,e.next=33,t.handleEmoji(1);case 33:return e.t11=e.sent,e.t10.push.call(e.t10,e.t11),e.t12=n,e.next=38,t.handleEmoji(2);case 38:return e.t13=e.sent,e.t12.push.call(e.t12,e.t13),e.t14=n,e.next=43,t.handleEmoji(3);case 43:e.t15=e.sent,e.t14.push.call(e.t14,e.t15),s({image:n[0],personal_image:n[1],logo_image:n[2],raw_image:n[3],emoji:n.slice(4)});case 46:case"end":return e.stop()}}),e)})));return function(t,s){return e.apply(this,arguments)}}())}}},At=(s(511),Object(c.a)(Nt,i,[],!1,null,"23624a95",null));At.options.__file="src/module/Dress/Dress.vue";e.default=At.exports},460:function(t,e,s){},461:function(t,e,s){},462:function(t,e,s){},463:function(t,e,s){},464:function(t,e,s){},467:function(t,e,s){},468:function(t,e,s){},469:function(t,e,s){},472:function(t,e,s){},473:function(t,e,s){},475:function(t,e,s){},487:function(t,e,s){t.exports=s.p+"assets/img/logo-295f0245bb.png"},488:function(t,e,s){"use strict";var i=s(5),n=s(85),r=s(40),a=s(7),o=s(74),c=[].sort,d=[1,2,3],l=a((function(){d.sort(void 0)})),u=a((function(){d.sort(null)})),h=o("sort");i({target:"Array",proto:!0,forced:l||!u||h},{sort:function(t){return void 0===t?c.call(r(this)):c.call(r(this),n(t))}})},489:function(t,e,s){"use strict";(function(t){function i(){var e,s,i,n;return function(){var r,a=document.createElement("_"),o=a.style;""===o[r="webkitTransition"]&&(i="webkitTransitionEnd",s=r),""===o[r="transition"]&&(i="transitionend",s=r),""===o[r="webkitTransform"]&&(e=r),""===o[r="msTransform"]&&(e=r),""===o[r="transform"]&&(e=r),document.body.insertBefore(a,null),o[e]="translate3d(0, 0, 0)",n=!!t.getComputedStyle(a).getPropertyValue(e),document.body.removeChild(a)}(),{transform:e,transition:s,transitionEnd:i,hasTranslate3d:n}}s.d(e,"a",(function(){return i}))}).call(this,s(155))},490:function(t,e,s){"use strict";var i=s(460);s.n(i).a},491:function(t,e,s){"use strict";var i=s(461);s.n(i).a},492:function(t,e,s){"use strict";var i=s(462);s.n(i).a},493:function(t,e,s){"use strict";var i=s(463);s.n(i).a},494:function(t,e,s){"use strict";var i=s(464);s.n(i).a},497:function(t,e,s){"use strict";var i=s(467);s.n(i).a},498:function(t,e,s){t.exports=s.p+"assets/img/home-ebb923fdf7.png"},499:function(t,e,s){t.exports=s.p+"assets/img/photo-ef266bd766.png"},500:function(t,e,s){"use strict";var i=s(468);s.n(i).a},501:function(t,e,s){t.exports=s.p+"assets/img/btn-game-625f5ebfa8.png"},502:function(t,e,s){t.exports=s.p+"assets/img/btn-ticket-c35ba212ee.png"},503:function(t,e,s){"use strict";var i=s(469);s.n(i).a},508:function(t,e,s){"use strict";var i=s(472);s.n(i).a},509:function(t,e,s){"use strict";var i=s(473);s.n(i).a},511:function(t,e,s){"use strict";var i=s(475);s.n(i).a}}]);