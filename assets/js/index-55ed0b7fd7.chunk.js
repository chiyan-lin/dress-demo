(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{0:function(t,e,n){"use strict";n.r(e);n(38),n(20),n(24),n(15),n(14),n(62),n(108),n(61),n(47),n(31),n(39),n(11),n(28),n(154),n(8),n(72),n(50),n(49),n(41),n(16);var r,a=n(10),o=(n(27),n(2)),s=n(22),i=n(3),c=n.n(i),u=n(1),l=n(105),p=n.n(l),f=n(30),d=n(153),h=n(264),g=n(265),m=n(266),v=n(102),w=n(103),b=n(60),_=n(71),y=n(194),S={name:"Modal",data:function(){return{show:!0,type:"confirm",content:"",noTxt:"",okTxt:""}},methods:{okCb:function(){this.ok&&this.ok(),this.closeCb()},noCb:function(){this.no&&this.no(),this.closeCb()},closeCb:function(){this.show=!1}}},k=(n(390),n(4)),C=Object(k.a)(S,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{directives:[{name:"show",rawName:"v-show",value:t.show,expression:"show"}],staticClass:"modal",on:{click:t.closeCb}},[n("div",{staticClass:"modal__box",on:{click:function(t){t.stopPropagation()}}},[n("div",{staticClass:"modal__content",domProps:{innerHTML:t._s(t.content)}}),t._v(" "),n("div",{staticClass:"modal__confirmBox"},["confirm"===t.type?n("a",{staticClass:"modal__cancel",attrs:{href:"javascript:;"},on:{click:t.noCb}},[t._v(t._s(t.noTxt))]):t._e(),t._v(" "),n("a",{staticClass:"modal__confirm",attrs:{href:"javascript:;"},on:{click:t.okCb}},[t._v(t._s(t.okTxt))])])])])}),[],!1,null,"4206d9fe",null).exports,O=c.a.extend(C);function x(){var t=new O;t.vm=t.$mount(),document.body.appendChild(t.vm.$el),r=t.vm,j.vm=r}var j={close:function(){r||x(),r.show=!1},show:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};r||x(),r.show=!0,r.type=t.type,r.okTxt=t.okTxt,r.noTxt=t.noTxt,r.content=t.content,r.ok=t.ok,r.no=t.no},vm:r},T=j,$=n(54),E=n(278),P=n(83);function I(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function M(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?I(Object(n),!0).forEach((function(e){Object(a.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):I(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}n.d(e,"hagoAppCall",(function(){return U})),n.d(e,"showToast",(function(){return F})),n.d(e,"multLang",(function(){return N})),n.d(e,"getGame",(function(){return V})),n.d(e,"svga",(function(){return G})),n.d(e,"uid",(function(){return z})),n.d(e,"nickName",(function(){return J})),n.d(e,"getBaseShareUrl",(function(){return H})),n.d(e,"getBaseImUrl",(function(){return W})),n.d(e,"getStarIdx",(function(){return q})),n.d(e,"Storage",(function(){return Y})),n.d(e,"newDressStorage",(function(){return Z})),n.d(e,"memoize",(function(){return X})),n.d(e,"isEmptyObject",(function(){return tt})),n.d(e,"axios",(function(){return et})),n.d(e,"sleep",(function(){return nt})),n.d(e,"Version",(function(){return rt})),n.d(e,"report",(function(){return st})),n.d(e,"getInviteUrl",(function(){return it})),n.d(e,"getPhoto",(function(){return ct})),n.d(e,"html2cavas",(function(){return ut})),n.d(e,"isENM",(function(){return lt})),n.d(e,"jsGetAge",(function(){return pt})),n.d(e,"getImBgUrl",(function(){return ft})),n.d(e,"getDressUpUrl",(function(){return dt})),n.d(e,"getDressUpIcon",(function(){return ht})),n.d(e,"getDressUpEffect",(function(){return gt})),n.d(e,"getAppType",(function(){return mt})),n.d(e,"getDressStr",(function(){return vt})),n.d(e,"getAndroidVersion",(function(){return wt})),n.d(e,"containChild",(function(){return bt})),n.d(e,"jsonp",(function(){return y.a}));var D=f.default.ENV,A=f.default.gameList,L=f.default.lang,R=f.default.imgBgLang,B=f.default.params.h||863;d.a.use(h.a),d.a.use(g.a);var U=new d.a({});function F(t){u.default.$emit("showToast",t)}U.$initSaveShare(),c.a.prototype.$Modal=T,c.a.prototype.$modal=T.show,c.a.use(P.a);var N=new P.a;function V(){return A[Math.floor(Math.random()*A.length)]}var G=new E.a,z=v.a.get("hagouid")||101358865,J=v.a.get("username")||"";function H(){return{test:"https://test.ihago.net/a/hago-dressup/share.html?lang=".concat(L,"&uid=").concat(z,"&h=").concat(B),prod:"https://www.ihago.net/a/hago-dressup/share.html?lang=".concat(L,"&uid=").concat(z,"&h=").concat(B)}[D]}function W(){return{test:"https://test.ihago.net/a/hago-dressup/index.html?",prod:"https://www.ihago.net/a/hago-dressup/index.html?"}[D]}y.a.mixin({beforeSend:function(){u.default.$emit("showLoading")},always:function(){u.default.$emit("hideLoading")}});var q=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";if(!t)return-1;var e=parseInt(t.split("-")[1]),n=parseInt(t.split("-")[2]),r=[20,19,21,21,21,22,23,23,23,23,22,22],a=e-(n<r[e-1]?1:0);return a},Y=new m.a({uid:z,prefix:"1812dressup",debug:!1}),K=Y.get("newDressStorage")||{},Z={get:function(){return K},add:function(t,e){return e=parseInt(e),K[t]?-1===K[t].indexOf(e)&&(console.log("新增".concat(t,"/ ").concat(e)),K[t].push(e)):(console.log("新增".concat(t,"/ ").concat(e)),K[t]=[e]),Y.set("newDressStorage",K),K},isEmpty:function(){return"{}"===JSON.stringify(K)},clear:function(){K={},Y.set("newDressStorage",K)},delete:function(t,e){return e=parseInt(e),K[t]&&K[t].length&&(K[t]=K[t].filter((function(t){return t!==e})),console.log("删除".concat(t,"/ ").concat(e),K),K[t].length||delete K[t],Y.set("newDressStorage",K)),K}};function Q(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return u.default.$emit("hideLoading"),t?u.default.$emit("showToast",t):(t.indexOf("timeout")>-1?u.default.$emit("showToast",u.default.$t("loadingFailed")):u.default.$emit("showToast",u.default.$t("serverError")),Promise.reject(t))}function X(t){var e={};return function(){for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];var o=[].concat(r),i=o.map((function(t){return"object"===Object(s.a)(t)?JSON.stringify(t):t})).join("");return i in e?e[i]:(e[i]=t.apply(this,o),e[i])}}function tt(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return"{}"===JSON.stringify(t)}function et(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"get";if("object"===Object(s.a)(t))return t.timeout=1e4,t.showLoading=t.showLoading||!0,p()(t).catch((function(t){console.log(t.toString())}));"boolean"===typeof e?(n=e,e={}):"string"===typeof e?(r=e,n=!0,e={}):"string"===typeof n&&(r=n,n=!0);var a=r.toLowerCase(),o={url:t,method:a,showLoading:n,timeout:1e4,withCredentials:!0};return"get"!==a||tt(e)||(o.params={data:JSON.stringify(e)}),"post"!==a||tt(e)||(o.data=e),p()(o).then((function(e){return console.log(t,e.data),e.data})).catch((function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];Q(u.default.$t("loadingFailed"))}))}p.a.interceptors.request.use((function(t){return t.showLoading&&u.default.$emit("showLoading"),t}),(function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];return Q(u.default.$t("loadingFailed"))})),p.a.interceptors.response.use((function(t){return u.default.$emit("hideLoading"),t}),(function(){var t;arguments.length>0&&void 0!==arguments[0]&&arguments[0];return(t=console).log.apply(t,["出错了"].concat(Array.prototype.slice.call(arguments))),Q(u.default.$t("loadingFailed"))}));var nt=function(t){return new Promise((function(e){return setTimeout(e,t)}))},rt=new _.b({preset:"hago"}),at=rt.get();Object(w.a)({id:20030127,type:"hago",uid:z});var ot={os:b.b.android?"android":"ios",appVersion:at,ua:navigator.userAgent},st=function(){var t=Object(o.a)(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!window.hiidoEvent){t.next=3;break}return t.next=3,n.e(4).then(n.bind(null,516));case 3:({data:M({},ot,{},e)});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();c.a.prototype.report=function(t){"string"===typeof t&&(t={function_id:t})};var it=function(t){return{test:"https://test.ihago.net/a/hago-dressup/index.html?inviteUid=".concat(t),prod:"https://test.ihago.net/a/hago-dressup/index.html?inviteUid=".concat(t)}[D]},ct=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new Promise(function(){var n=Object(o.a)(regeneratorRuntime.mark((function n(r,a){var o,s,i;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(window.domtoimage){n.next=3;break}return n.next=3,Object($.asyncLoadJs)("//static.ihago.net/a/ihago-libs/assets/data/dom2image/0.1.0/dom2image.min.js");case 3:return o=t.offsetHeight,s=t.offsetWidth,console.log("window.domtoimage",o,s),n.prev=6,n.next=9,window.domtoimage.toPng(t,M({width:s,height:o,quality:1},e));case 9:i=n.sent,r(i),n.next=22;break;case 13:return n.prev=13,n.t0=n.catch(6),console.log("不支持 dom2image",n.t0.toString()),ct=ut,n.t1=r,n.next=20,ut(t,e);case 20:n.t2=n.sent,(0,n.t1)(n.t2);case 22:case"end":return n.stop()}}),n,null,[[6,13]])})));return function(t,e){return n.apply(this,arguments)}}())};function ut(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new Promise(function(){var n=Object(o.a)(regeneratorRuntime.mark((function n(r,a){var o,s,i;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(window.html2canvas){n.next=3;break}return n.next=3,Object($.asyncLoadJs)("//static.ihago.net/a/ihago-libs/assets/data/html2canvas/1.0.0/html2canvas.min.js");case 3:return o=t.offsetHeight,s=t.offsetWidth,n.prev=5,n.next=8,window.html2canvas(t,M({logging:!0,useCORS:!0,width:s,height:o,backgroundColor:null,scale:1},e));case 8:i=n.sent,console.log("imgCanvas",[i.toDataURL("image/png")]),r(i.toDataURL("image/png")),n.next=16;break;case 13:n.prev=13,n.t0=n.catch(5),a(n.t0);case 16:case"end":return n.stop()}}),n,null,[[5,13]])})));return function(t,e){return n.apply(this,arguments)}}())}function lt(t){return/^(5|7|8|6)/.test(t)}function pt(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=e.split("-"),r=Number(n[0]),a=Number(n[1]),o=Number(n[2]);console.log("strBirthday",e,r,a,o);var s=new Date,i=s.getFullYear(),c=s.getMonth()+1,u=s.getDate();if(console.log(i,c,u),i===r)t=0;else{var l=i-r;if(l>0)if(c===a){var p=u-o;t=p<0?l-1:l}else{var f=c-a;t=f<0?l-1:l}else t=-1}return t}var ft=function(){return n(413)("./".concat(R,".jpg"))},dt=function(t,e){return"https://static.ihago.net/a/imglib-ihago/hago-dressup/diy/".concat(t,"/").concat(e,".png?t=2018122011")},ht=function(t,e){return"https://static.ihago.net/a/imglib-ihago/hago-dressup/diy/".concat(t,"/").concat(e,"s.png?t=20190123")},gt=function(t,e){return"https://o-id.ihago.net/hago-dressup/20190124/".concat(t,"/").concat(e,".svga")},mt=function(t){return{whatsapp:1,facebook:2,instagram:3,line:4}[t]||9},vt=function(t){var e=[];return Object.keys(t).forEach((function(n){e.push("".concat(n,":").concat(t[n]))})),e.join("#")};function wt(){var t=navigator.userAgent.toLowerCase(),e=null;if(t.indexOf("android")>0){e=(t.match(/android [\d._]+/gi)+"").replace(/[^0-9|_.]/gi,"").replace(/_/gi,".");var n=parseInt(e.split(".")[0]),r=parseInt(e.split(".")[1]||0);e=n+.1*r}return e}function bt(t,e){for(;e;){if(e===t)return!0;if(!(e=e.parentNode)||e===document.body)return!1}return!1}},1:function(t,e,n){"use strict";n.r(e);var r=n(3),a=new(n.n(r).a);e.default=a},105:function(t,e){t.exports=axios},129:function(t,e,n){t.exports=n.p+"d3058bf018619e609fb697a8750cfb46.svga"},130:function(t,e,n){"use strict";n.r(e);n(20),n(27);var r=n(2),a=n(3),o=n.n(a),s=n(1),i=n(48),c=n(19),u=n(0),l={namespaced:!0,state:{isShowGiftSvga:!1,isShowSavingSvga:!1},actions:{showGiftSvga:function(t){var e=t.state;return Object(r.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.isShowGiftSvga=!0,t.next=3,Object(u.sleep)(0);case 3:return u.svga.play({selector:"#gift",url:n(192),customSet:function(t){t.loops=1}}),t.next=6,Object(u.sleep)(2100);case 6:e.isShowGiftSvga=!1;case 7:case"end":return t.stop()}}),t)})))()},showSavingSvga:function(t){var e=t.state;return Object(r.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.isShowSavingSvga=!0,t.next=3,Object(u.sleep)(0);case 3:return t.next=5,u.svga.preload(n(129));case 5:u.svga.play({selector:"#saving",url:n(129)});case 6:case"end":return t.stop()}}),t)})))()},showEffectSvga:function(t,e){t.state;return Object(r.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("svgaUrl",e),t.next=3,Object(u.sleep)(0);case 3:return u.svga.play({selector:"#DressEffect",url:e,customSet:function(t){t.loops=1}}),t.next=6,Object(u.sleep)(2100);case 6:case"end":return t.stop()}}),t)})))()}},mutations:{hideSavingSvga:function(t){t.isShowSavingSvga=!1},hideEffectSvga:function(){document.getElementById("DressEffect").innerHTML=""}}},p=(n(47),Number(u.Storage.get("enterEntryTime"))||0),f={namespaced:!0,state:{hasEnterMatch:Boolean(u.Storage.get("hasEnterMatch")),enterEntryTime:p,hasEnterInvite:Boolean(u.Storage.get("hasEnterInvite")),afterEnterMatchTime:Number(u.Storage.get("afterEnterMatchTime"))||0,hasClickLastTip:Boolean(u.Storage.get("hasClickLastTip"))},getters:{isShowMatchBubble:function(t){return!t.hasEnterMatch&&t.enterEntryTime<=3},isShowInviteBubble:function(t,e,n){return!e.isShowMatchBubble&&(!(n.isCollectAll&&!u.Storage.get("hasShowUploadTip"))&&(!t.hasEnterInvite&&t.afterEnterMatchTime<=3))},isShowLastTip:function(t,e){return!t.hasClickLastTip&&(!e.isShowMatchBubble&&!e.isShowInviteBubble)}},actions:{enterEntryPage:function(t){var e=t.state;t.getters;!e.hasEnterMatch&&e.enterEntryTime<=3&&(e.enterEntryTime++,u.Storage.set("enterEntryTime",e.enterEntryTime),e.enterEntryTime<=3)||e.hasEnterInvite||e.afterEnterMatchTime>3||(e.afterEnterMatchTime++,u.Storage.set("afterEnterMatchTime",e.afterEnterMatchTime))},enterInvitePage:function(t){var e=t.state;t.getters.isShowMatchBubble||e.hasEnterInvite||(u.Storage.set("hasEnterInvite",!0),e.hasEnterInvite=!0,u.Storage.set("hasClickLastTip",!0))}},mutations:{hideLastTip:function(t){t.hasClickLastTip=!0,u.Storage.set("hasClickLastTip",!0)},enterMatchPage:function(t){t.hasEnterMatch||(u.Storage.set("hasEnterMatch",!0),t.hasEnterMatch=!0)}}},d=(n(61),n(8),n(49),n(82)),h={state:{titleType:"before",success:!1,selectUserIndex:0,hasAdded:!1,isFriend:!1,matchList:[],giftIsNew:!1,giftData:{},isShowLoveOutcome:!1,isShowOutcome:!1,isCard:!1,isFragment:!1,isShowGift:!1,isShowAnim:!1,cardPending:!1},getters:{matchTitleTip:function(t){return{before:"".concat(s.default.$t("which")," ").concat(s.default.$t("aHigher")),fail:s.default.$t("matchFail").toUpperCase(),success:s.default.$t("matchSuccess").toUpperCase()}[t.titleType]},matchDreType:function(t){return"".concat(t.giftData.id,":").concat(t.giftData.sid)},selectUser:function(t){return t.matchList[t.selectUserIndex]},isShowFragment:function(t){return t.isFragment||t.isCard}},actions:{initMatchPage:function(t){var e=t.commit,n=(t.dispatch,t.state,t.rootState);return Object(r.a)(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e("resetMatchState"),t.next=3,c.a.getMatchPlayer({gender:n.gender,score:n.score},!1);case 3:if(1===(r=t.sent).code){t.next=6;break}return t.abrupt("return",s.default.$emit("showToast",s.default.$t("serverError")));case 6:if(r.data&&r.data.list&&r.data.list.length){t.next=10;break}return n.playPgEnterType=9,d.default.go(-1),t.abrupt("return",s.default.$emit("showToast",s.default.$t("insufficientUsers")));case 10:e("cutTicket"),e("initMatchList",r.data.list);case 12:case"end":return t.stop()}}),t)})))()},testTransform:function(t){var e=t.state,n=t.dispatch;return Object(r.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n("setFragmentState",{is_card:!0,is_fragment:!1}),e.isShowGift=!0;case 2:case"end":return t.stop()}}),t)})))()},onChoose:function(t,e){var n=t.state,a=t.rootState,i=(t.getters,t.dispatch),u=t.commit;return Object(r.a)(regeneratorRuntime.mark((function t(){var r,l,p,f,d,h;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.index,l=e.onFlip,p=n.matchList[r],o.a.set(p,"clicked",!0),n.isShowLoveOutcome=!1,s.default.report("match_pg_choose_click"),f=p.uid,d=p.rivalUid,t.next=8,c.a.matchPlayer({choose_id:f,drop_id:d,sex:a.sex});case 8:if(h=t.sent){t.next=11;break}return t.abrupt("return",o.a.set(p,"clicked",!1));case 11:if(1===h.code){t.next=13;break}return t.abrupt("return",s.default.$emit("showToast",s.default.$t("serverError")));case 13:return u("setMatchState",{data:h.data,index:r}),l&&l(),t.abrupt("return",i("showAnimate",h.data));case 16:case"end":return t.stop()}}),t)})))()},setFragmentState:function(t,e){var a=t.state,o=t.commit;return Object(r.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a.isFragment=e.is_fragment,a.isCard=e.is_card,!e.is_card){t.next=17;break}return o("collectAll"),a.isShowAnim=!0,a.cardPending=!0,o("addCards",1),o("setFragments",0),t.next=10,Object(u.sleep)(0);case 10:return u.svga.play({selector:"#unlockcard",url:n(193),customSet:function(t){t.loops=1}}),t.next=13,Object(u.sleep)(3e3);case 13:a.cardPending=!1,a.isShowAnim=!1,t.next=18;break;case 17:e.is_fragment&&o("addFragments",1);case 18:case"end":return t.stop()}}),t)})))()},showAnimate:function(t,e){var a=t.state,o=t.dispatch,i=t.getters;return Object(r.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(u.sleep)(1e3);case 2:return a.isShowLoveOutcome=!0,t.next=5,Object(u.sleep)(500);case 5:return t.next=7,Object(u.sleep)(2e3);case 7:return a.isShowOutcome=!0,a.isShowLoveOutcome=!1,u.svga.play({selector:"#love",url:n(427)("./".concat(a.success?"success":"fail",".svga")),customSet:function(t){t.loops=1}}),t.next=12,Object(u.sleep)(a.success?2e3:1100);case 12:if(a.success){t.next=15;break}return a.isShowAnim=!1,t.abrupt("return");case 15:return t.next=17,o("Svga/showGiftSvga");case 17:o("setFragmentState",e),a.isShowGift=!0,a.isCard&&s.default.report("card_pop_show"),a.isFragment&&s.default.report("card_chip_pop_show"),a.cardPending||(a.isShowAnim=!1),s.default.report({function_id:"gift_pop_show",dre_type:i.matchDreType});case 23:case"end":return t.stop()}}),t)})))()},onMatchShareSuccess:function(t){var e=t.state,n=t.rootState,a=t.dispatch;return Object(r.a)(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c.a.dressupShare({sex:n.sex});case 2:if(1===(r=t.sent).code){t.next=6;break}return s.default.$emit("showToast",s.default.$t("serverError")),t.abrupt("return",!1);case 6:if(r.data&&r.data.gift&&r.data.gift.id||r.data.is_card||r.data.is_fragment){t.next=9;break}return s.default.$emit("showToast",s.default.$t("youBad")),t.abrupt("return",!1);case 9:return a("setFragmentState",r.data),r.data.is_new&&(e.giftIsNew=!0,u.newDressStorage.add(r.data.gift.id,r.data.gift.sid)),s.default.report("gift_pop_share_click"),e.giftData=r.data.gift||{},t.abrupt("return",!0);case 14:case"end":return t.stop()}}),t)})))()},onJumpDressup:function(t){var e=t.state,n=t.rootState,r=t.getters;s.default.report({function_id:"gift_pop_dress_click",dre_type:r.matchDreType}),n.playPgEnterType=4,e.isShowGift=!1,d.default.replace("/dress")},addMatchSuccessFriend:function(t){var e=t.state,n=t.getters;return Object(r.a)(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.isFriend&&!e.hasAdded){t.next=2;break}return t.abrupt("return");case 2:return s.default.report("match_succ_pg_add_click"),t.next=5,c.a.addFriend({add_uid:n.selectUser.uid,client_message:"{fromType:1}"});case 5:if(324!==(r=t.sent).code){t.next=8;break}return t.abrupt("return",s.default.$emit("showToast",s.default.$t("thisPerson")));case 8:if(1===r.code){t.next=10;break}return t.abrupt("return",s.default.$emit("showToast",s.default.$t("serverError")));case 10:e.hasAdded=!0;case 11:case"end":return t.stop()}}),t)})))()},onContinueMatch:function(t){var e=t.state,n=t.rootState,r=t.dispatch;e.success?s.default.report("match_succ_pg_con_click"):s.default.report("match_fail_pg_con_click"),!n.ticket||n.ticket<=0?s.default.$emit("showToast",s.default.$t("hasnotTime")):r("initMatchPage")}},mutations:{initMatchList:function(t,e){var n=e.slice(0,2);n[0].rivalUid=n[1]&&n[1].uid,n[1].rivalUid=n[0].uid,t.matchList=n},setMatchState:function(t,e){var n=e.data,r=e.index;n.is_new&&(t.giftIsNew=!!n.is_new,u.newDressStorage.add(n.gift.id,n.gift.sid)),t.isShowAnim=!0,t.success=n.success,t.titleType=n.success?"success":"fail",t.matchList[r].degress=n.degrees[0],t.matchList[(r+1)%2].degress=n.degrees[1],t.isFriend=n.is_friend,t.giftData=n.gift,t.selectUserIndex=r,t.success?s.default.report("match_succ_pg_show"):s.default.report("match_fail_pg_show")},resetMatchState:function(t){t.titleType="before",t.hasAdded=!1,t.giftIsNew=!1,t.isShowLoveOutcome=!1,t.isShowOutcome=!1,t.isCard=!1,t.isFragment=!1,t.cardPending=!1,t.isShowAnim=!1},setHasClick:function(t,e){this.$set(t.matchList[e],"clicked",!0)},closeMatchGiftDialog:function(t){t.isShowGift=!1}}},g={namespaced:!0,state:{newGiftKey:"",isShowNewGiftDialog:!1},actions:{initShowState:function(t){t.state}},mutations:{closeNewGiftDialog:function(t){u.Storage.set("".concat(void 0),!0),t.isShowNewGiftDialog=!1}}};o.a.use(i.a);e.default=new i.a.Store({state:{list:[],cards:0,fragments:0,score:0,image:"",sex:1,cd:!1,time:0,ticket:0,avatar:"",isChecked:!1,nick:"",emoji:[],gender:1,currentImage:"https://avatars0.githubusercontent.com/u/551347?s=60&v=4",inviteImage:"https://o-id.ihago.net/activity/101285246_1545196245_6.png",composeImage:"",logoImage:"",rawImage:"",isShowAppPost:!1,postType:"self",preTopBarTitleClass:"",topBarTitleClass:"default",dressMode:!1,version:"",isShowChanging:!1,isDressChange:!1,photoTogtherUid:"",playPgEnterType:9,isSave:!1,isShowRule:!1,unlockList:{},isCollectAll:!1,cardConfig:{},resortId:0,backIconClass:"black"},getters:{cryEmoji:function(t){return t.emoji&&t.emoji.length?t.emoji[2]:""}},actions:{initHomePageData:function(t){var e=t.state,n=t.getters;return Object(r.a)(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c.a.getOrnament(!1);case 2:if(1===(r=t.sent).code){t.next=5;break}return t.abrupt("return",s.default.$emit("showToast",s.default.$t("serverError")));case 5:r.data=r.data||{},r.data.ornament=r.data.ornament||{},e.list=r.data.ornament.list||[],e.score=r.data.ornament.score,e.sex=r.data.ornament.sex,e.version=r.data.ornament.version,e.cards=r.data.cards,e.fragments=r.data.fragments,e.currentImage=e.image=r.data.ornament.image,e.isChecked=r.data.is_checked,e.emoji=r.data.ornament.emoji,console.log("state.emoji",e.emoji,n,e.emoji&&e.emoji.length?e.emoji[0]:""),e.logoImage=r.data.ornament.logo_image,e.rawImage=r.data.ornament.raw_image,e.avatar=r.data.avatar,e.nick=r.data.nick,e.gender=r.data.gender;case 22:case"end":return t.stop()}}),t)})))()},initCardConfig:function(t){var e=t.state;return Object(r.a)(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c.a.getCardConfig(!1);case 2:if((n=t.sent)&&1===n.code){t.next=5;break}return t.abrupt("return",s.default.$emit("showToast",s.default.$t("serverError")));case 5:e.cardConfig=n.data||{};case 6:case"end":return t.stop()}}),t)})))()},initMatchInfo:function(t){var e=t.state,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return Object(r.a)(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c.a.getMatchInfo(n);case 2:if(1===(r=t.sent).code){t.next=5;break}return t.abrupt("return",s.default.$emit("showToast",s.default.$t("serverError")));case 5:return e.cd=r.data.cd||!1,e.time<=0&&(e.cd=!1),e.time=r.data.time<0?0:r.data.time||0,e.ticket=r.data.ticket||0,t.abrupt("return",!0);case 10:case"end":return t.stop()}}),t)})))()},getShareWebUrl:function(t){var e=t.state,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=a.image,s=a.channel;return Object(r.a)(regeneratorRuntime.mark((function t(){var r,a;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r="".concat(Object(u.getBaseShareUrl)(),"&image=").concat(o||e.rawImage,"&channel=").concat(s),"messenger"===s&&(r+="&mesImage=".concat(n(262))),t.next=4,c.a.genShortUrl(r);case 4:return a=t.sent,t.abrupt("return",a.data);case 6:case"end":return t.stop()}}),t)})))()},shareWebUrl:function(t){t.state;var e=t.dispatch,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=a.channel,i=a.image;return Object(r.a)(regeneratorRuntime.mark((function t(){var r,a;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e("getShareWebUrl",{image:i,channel:o});case 2:return r=t.sent,a={webUrl:r,title:s.default.$t("photoTogetherTip"),content:s.default.$t("mainTip")},"messenger"===o&&(a.imagePath=n(262)),console.log("onClickApp",o,a),s.default.$emit("showLoading"),setTimeout((function(){s.default.$emit("hideLoading")}),1e3),t.next=10,u.hagoAppCall.saveShare[o](a);case 10:case"end":return t.stop()}}),t)})))()}},mutations:{showAppPost:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"self";this.commit("pushTopBarTitle","dialog"),t.isShowAppPost=!0,t.postType=e},showChanging:function(t){t.isShowChanging=!0},hideChanging:function(t){t.isShowChanging=!1},closeAppPost:function(t){t.isShowAppPost=!1,this.commit("popTopBarTitle")},pushTopBarTitle:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"default";t.preTopBarTitleClass=t.topBarTitleClass,t.topBarTitleClass=e},popTopBarTitle:function(t){t.topBarTitleClass=t.preTopBarTitleClass},changeDressMode:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.dressMode,r=void 0!==n&&n,a=e.image;t.dressMode=r,a&&(t.inviteImage=a)},changeDress:function(t,e){t.isDressChange=e},cutTicket:function(t){t.ticket<=0||(t.ticket=t.ticket-1)},addCards:function(t,e){t.cards=t.cards+e},setFragments:function(t,e){t.fragments=e},addFragments:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;t.fragments=t.fragments+e},collectAll:function(t){t.isCollectAll=!0}},modules:{Svga:l,Entry:f,Match:h,NewGift:g}})},131:function(t,e,n){},135:function(t,e,n){},136:function(t,e,n){},137:function(t,e,n){},138:function(t,e,n){},139:function(t,e,n){},140:function(t,e,n){},141:function(t,e,n){},142:function(t,e,n){},143:function(t,e,n){},144:function(t,e,n){},145:function(t,e,n){},146:function(t,e,n){},147:function(t,e,n){},185:function(t,e,n){"use strict";n.r(e);n(241),n(242),n(24),n(121),n(14),n(11);Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(t){for(var e=Object(this),n=e.length>>>0,r=arguments[1],a=0;a<n;){var o=e[a];if(t.call(r,o,a,e))return o;a++}}}),"function"!=typeof Object.assign&&Object.defineProperty(Object,"assign",{value:function(t,e){for(var n=Object(t),r=1;r<arguments.length;r++){var a=arguments[r];if(null!=a)for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(n[o]=a[o])}return n},writable:!0,configurable:!0}),Object.keys||(Object.keys=function(){var t=Object.prototype.hasOwnProperty,e=!{toString:null}.propertyIsEnumerable("toString"),n=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],r=n.length;return function(a){var o,s,i=[];for(o in a)t.call(a,o)&&i.push(o);if(e)for(s=0;s<r;s++)t.call(a,n[s])&&i.push(n[s]);return i}}()),Array.prototype.every||(Array.prototype.every=function(t){if(void 0===this||null===this)throw new TypeError;var e=Object(this),n=e.length>>>0;if("function"!==typeof t)throw new TypeError;for(var r=arguments.length>=2?arguments[1]:void 0,a=0;a<n;a++)if(a in e&&!t.call(r,e[a],a,e))return!1;return!0}),Array.prototype.indexOf||(Array.prototype.indexOf=function(t,e){var n;if(null==this)throw new TypeError('"this" is null or not defined');var r=Object(this),a=r.length>>>0;if(0===a)return-1;var o=+e||0;if(Math.abs(o)===1/0&&(o=0),o>=a)return-1;for(n=Math.max(o>=0?o:a-Math.abs(o),0);n<a;){if(n in r&&r[n]===t)return n;n++}return-1}),Array.prototype.filter||(Array.prototype.filter=function(t){if(void 0===this||null===this)throw new TypeError;var e=Object(this),n=e.length>>>0;if("function"!==typeof t)throw new TypeError;for(var r=[],a=arguments.length>=2?arguments[1]:void 0,o=0;o<n;o++)if(o in e){var s=e[o];t.call(a,s,o,e)&&r.push(s)}return r}),Array.prototype.fill||Object.defineProperty(Array.prototype,"fill",{value:function(t){if(null==this)throw new TypeError("this is null or not defined");for(var e=Object(this),n=e.length>>>0,r=arguments[1],a=r>>0,o=a<0?Math.max(n+a,0):Math.min(a,n),s=arguments[2],i=void 0===s?n:s>>0,c=i<0?Math.max(n+i,0):Math.min(i,n);o<c;)e[o]=t,o++;return e}})},19:function(t,e,n){"use strict";n(108),n(47),n(8),n(49),n(41),n(30);var r=n(0),a=function(t){return t.replace(/data:image\/[a-zA-Z]*;base64,/,"")},o={getUserInfo:function(t){return Object(r.jsonp)("".concat("/","/uinfo/get_uinfo"),{data:JSON.stringify({uids:[Number(t)]})})},getOrnament:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return Object(r.axios)("".concat("/","/activity/dressup/get_ornament"),{},t)},getMatchInfo:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return Object(r.axios)("".concat("/","/activity/dressup/get_match_info"),t)},getMatchPlayer:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return Object(r.axios)("".concat("/","/activity/dressup/get_match_player"),t,e)},matchPlayer:function(t){return Object(r.axios)("".concat("/","/activity/dressup/match_player"),t)},inviteFriendPhoto:function(t){return Object(r.axios)("".concat("/","/activity/dressup/invite_friend_photo"),t,!1)},inviteFriendStatus:function(t){return Object(r.axios)("".concat("/","/activity/dressup/invite_friend_status"),t)},getFriendOrnament:function(){return Object(r.axios)("".concat("/","/activity/dressup/get_friend_ornament"))},genImage:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return t=t.map((function(t){return a(t)})),e=a(e),Object(r.axios)("".concat("/","/activity/genImage"),{content_list:t,content:e},!1,"post")},setOrnament:function(t){return Object(r.axios)("".concat("/","/activity/dressup/set_ornament"),t,!1)},tryUnlock:function(t){return Object(r.axios)("".concat("/","/activity/dressup/try_unlock"),t)},updateImage:function(t){var e=t.img_name.split("/");return t={img_name:e[e.length-1],content:a(t.content)},Object(r.axios)("".concat("/","/activity/updateImage"),t)},addFriend:function(t){return Object(r.axios)("".concat("/","/relation/add_friend"),t)},dressupShare:function(t){return Object(r.axios)("".concat("/","/activity/dressup/share"),t)},genShortUrl:Object(r.memoize)((function(t){return Object(r.jsonp)("".concat("/","/d/_gen"),{url:t})})),checkIn:function(){return Object(r.axios)("".concat("/","/activity/dressup/check_in"))},delOrnament:function(t){return Object(r.axios)("".concat("/","/activity/dressup/del_ornament"),t)},cardUnlock:function(t){return Object(r.axios)("".concat("/","/activity/dressup/card_unlock"),t)},getDressupStatus:function(){return Object(r.axios)("".concat("/","/activity/dressup/get_dressup_status"))},setDressupStatus:function(t){return Object(r.axios)("".concat("/","/activity/dressup/set_dressup_status"),t)},addCard:function(){return Object(r.axios)("".concat("/","/activity/dressup/add_card"))},getCardConfig:function(){return Object(r.axios)("".concat("/","/activity/dressup/get_card_config"))}};e.a=o},192:function(t,e,n){t.exports=n.p+"51ffd118dba5c491a69a91c61e5f21ff.svga"},193:function(t,e,n){t.exports=n.p+"bc01d89bf1422ab80db1eb9244a7df67.svga"},196:function(t,e){t.exports=VueRouter},197:function(t,e,n){t.exports=n.p+"94941ced610219bdeabaf2ce5902e3ac.svga"},252:function(t,e,n){t.exports=n.p+"assets/img/icon_capricorn-6300f2b038.png"},260:function(t,e,n){t.exports=n.p+"ec125d65dd666c8c54dc9625c80a9c4c.svga"},261:function(t,e,n){t.exports=n.p+"562eb1babc751fec0f8e00c7f4ff1966.svga"},262:function(t,e,n){t.exports=n.p+"assets/img/messengerSharePic-d5f241505f.png"},281:function(t,e,n){t.exports=n(282)},282:function(t,e,n){"use strict";n.r(e);n(28),n(27);var r=n(2);n(177),n(233),n(239),n(240);window.JS_START=Date.now(),n(185);var a=n(3),o=n(444).default,s=n(30).default,i=n(54).asyncLoadJs,c=n(82).default,u=n(130).default,l=n(1).default,p=n(0),f=p.svga,d=p.multLang;n(434),n(435);s.lang;var h=s.ENV;function g(){return(g=Object(r.a)(regeneratorRuntime.mark((function t(){var e,r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("test"!==h){t.next=6;break}return t.next=3,i("//wechatfe.github.io/vconsole/lib/vconsole.min.js?v=3.2.0");case 3:new window.VConsole,t.next=6;break;case 6:return window.VUE_START=Date.now(),new a({el:"#app",router:c,store:u,render:function(t){return t(o)}}),t.next=10,n.e(5).then(n.bind(null,279));case 10:if(t.t0=t.sent,t.t0){t.next=13;break}t.t0={};case 13:e=t.t0,d.setMessage(e.default.en.message),s.starConfig=[l.$t("capricorn"),l.$t("aquarius"),l.$t("pisces"),l.$t("aries"),l.$t("taurus"),l.$t("gemini"),l.$t("cancer"),l.$t("leo"),l.$t("virgo"),l.$t("libra"),l.$t("scorpio"),l.$t("sagittarius"),l.$t("capricorn")],f.preload(n(260)),f.preload(n(261)),f.preload(n(192)),f.preload(n(129)),f.preload(n(197)),f.preload(n(193)),r=n(448),(0,r.checkVersion)({debug:!0});case 24:case"end":return t.stop()}}),t)})))).apply(this,arguments)}!function(){g.apply(this,arguments)}()},3:function(t,e){t.exports=Vue},30:function(t,e,n){"use strict";n.r(e),n.d(e,"dressCfg",(function(){return l}));n(14),n(8),n(41);var r=n(70),a=Object(r.b)(),o=(a.lang||navigator.language||navigator.browserLanguage||"en-US").split(/-|_/)[0].toLowerCase();"in"===o&&(o="id"),o="id";var s=a.h||863;var i=["//i-test-".concat(s,".ihago.net"),"//i-".concat(s,".ihago.net")][0],c={boy:{},girl:{}};c.boy={22:0,3:0,17:1,13:18,6:0,9:1,4:14,5:1,2:1,11:0,1:1,12:0,19:0,8:1,20:0,16:0,10:0,14:0,7:0,18:1},c.girl={22:0,3:0,17:1,13:18,6:0,9:1,4:14,5:1,2:50,11:0,1:1,12:0,19:0,8:1,20:0,16:0,10:0,14:0,7:0,18:1};var u={isMaintent:!0,version:"1",expireTime:"2019-02-12",ENV:"test",lang:o,apiPrefix:i,gameList:["feidao_yn","yangyangdazuozhan_yn","shuiguoqieqieqie_yn"],params:a,starConfig:[],starIconConfig:[n(252),n(339),n(340),n(341),n(342),n(343),n(344),n(345),n(346),n(347),n(348),n(349),n(252)],imgBgLang:["id","en"].indexOf(o)>-1?o:"en"},l={needDoubleId:["50","60","90"],bgId:"17",pids:["1","2","3","4","5","6","7","8","9","10","11","12","13","14","16","17","18","19","50","60","90"],initDressup:c,defineSortList:{100:"togther"},defineItemList:{100:[{sid:0},{sid:1},{sid:2},{sid:3},{sid:5},{sid:6}]},dressTogther:{1:{16:66},2:{16:3},3:{16:19},4:{16:38},5:{16:43},6:{16:28}},isAllLockList:[10,11,12,14,16,19],sortList:["1","2","3","13","22","4","5","6","7","8","9","17","10","11","12","14","16","19"],sortTge:["100","16","4","17","0"],effectId:"22"};e.default=u},339:function(t,e,n){t.exports=n.p+"assets/img/icon_aquarius-d137728599.png"},340:function(t,e,n){t.exports=n.p+"assets/img/icon_pisces-0926c147bc.png"},341:function(t,e,n){t.exports=n.p+"assets/img/icon_aries-49ed900c60.png"},342:function(t,e,n){t.exports=n.p+"assets/img/icon_taurus-5ca6529c90.png"},343:function(t,e,n){t.exports=n.p+"assets/img/icon_gemini-b080d4df4e.png"},344:function(t,e,n){t.exports=n.p+"assets/img/icon_cancer-ad09faf5fd.png"},345:function(t,e,n){t.exports=n.p+"assets/img/icon_leo-e130aeb483.png"},346:function(t,e,n){t.exports=n.p+"assets/img/icon_virgo-82c38c5cd1.png"},347:function(t,e,n){t.exports=n.p+"assets/img/icon_libra-885221596a.png"},348:function(t,e,n){t.exports=n.p+"assets/img/icon_scorpio-1dba66355e.png"},349:function(t,e,n){t.exports=n.p+"assets/img/icon_sagittarius-39b7a3ea64.png"},390:function(t,e,n){"use strict";var r=n(131);n.n(r).a},413:function(t,e,n){var r={"./en.jpg":414,"./id.jpg":415};function a(t){var e=o(t);return n(e)}function o(t){if(!n.o(r,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return r[t]}a.keys=function(){return Object.keys(r)},a.resolve=o,t.exports=a,a.id=413},414:function(t,e,n){t.exports=n.p+"assets/img/en-cb8469a0ed.jpg"},415:function(t,e,n){t.exports=n.p+"assets/img/id-13468f71f0.jpg"},419:function(t,e,n){"use strict";var r=n(135);n.n(r).a},420:function(t,e,n){"use strict";var r=n(136);n.n(r).a},421:function(t,e,n){"use strict";var r=n(137);n.n(r).a},422:function(t,e,n){"use strict";var r=n(138);n.n(r).a},423:function(t,e,n){"use strict";var r=n(139);n.n(r).a},424:function(t,e,n){"use strict";var r=n(140);n.n(r).a},425:function(t,e,n){"use strict";var r=n(141);n.n(r).a},426:function(t,e,n){"use strict";var r=n(142);n.n(r).a},427:function(t,e,n){var r={"./changing.svga":197,"./fail.svga":260,"./getCard.svga":428,"./gift.svga":192,"./saving.svga":129,"./success.svga":261,"./unlockCard.svga":193};function a(t){var e=o(t);return n(e)}function o(t){if(!n.o(r,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return r[t]}a.keys=function(){return Object.keys(r)},a.resolve=o,t.exports=a,a.id=427},428:function(t,e,n){t.exports=n.p+"b6605d1317bac3eee6af469354fa74f9.svga"},429:function(t,e,n){"use strict";var r=n(143);n.n(r).a},430:function(t,e,n){"use strict";var r=n(144);n.n(r).a},431:function(t,e,n){"use strict";var r=n(145);n.n(r).a},432:function(t,e,n){"use strict";var r=n(146);n.n(r).a},433:function(t,e,n){"use strict";var r=n(147);n.n(r).a},434:function(t,e,n){"use strict";n.r(e);n(24),n(61),n(47),n(8),n(49);var r=n(3),a=n.n(r),o=n(106),s=n(0);a.a.filter("getAvatar",(function(t){return t?"".concat(t,"?x-oss-process=image/resize,w_100,limit_0").replace("http://","https://"):""})),a.a.filter("formatDate",(function(t){return t?Object(o.b)(t,"yyyy-MM-dd hh:mm:ss"):""})),a.a.filter("limitName",(function(t,e){return(t=decodeURIComponent(t)).length>e?"".concat(t.slice(0,e),"..."):t})),a.a.filter("formatCountDown",(function(t){t=Number(t);var e=Math.floor(t/3600);t%=3600;var n=Math.floor(t/60),r=t%60;return Object(o.a)(e)+":"+Object(o.a)(n)+":"+Object(o.a)(r)})),a.a.filter("jsGetAge",s.jsGetAge),a.a.filter("getStarIdx",s.getStarIdx),a.a.filter("getDressupPicture",(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return console.log("【getDressupPicture】",t,t.id,t.sid),t.id&&t.sid?Object(s.getDressUpUrl)(t.id,t.sid):""})),a.a.filter("getDressUpIcon",(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return console.log("【getDressupPicture】",t,t.id,t.sid),t.id&&t.sid?Object(s.getDressUpIcon)(t.id,t.sid):""})),a.a.filter("toLower",(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return t.toLowerCase().replace(/^([a-z])/,(function(t,e){return e.toUpperCase()}))}))},435:function(t,e,n){},444:function(t,e,n){"use strict";n.r(e);var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"app pr"},[t.isSupportBack?n("div",{staticClass:"back pa",class:"back-"+t.backIconClass,on:{click:t.onBack}}):t._e(),t._v(" "),"test"===t.ENV?n("div",{staticClass:"pa",staticStyle:{top:"35px",right:"0","z-index":"999"}},[n("button",{on:{click:function(e){return t.$store.commit("changeDressMode",{dressMode:0})}}},[t._v("合照")]),t._v(" "),n("button",{on:{click:t.onClearDress}},[t._v("删除个人装扮")]),t._v(" "),n("button",{on:{click:t.onClearStorage}},[t._v("清除缓存")]),t._v(" "),n("button",{on:{click:t.onSignin}},[t._v("签到")]),t._v(" "),n("button",{on:{click:t.onCloseLimi}},[t._v(t._s(t.isClosed?"打开":"关闭")+"厘米秀(客)")])]):t._e(),t._v(" "),n("VuePageLoading",{attrs:{show:t.showLoading}}),t._v(" "),n("VueToast",{attrs:{show:t.showToast,content:t.toastContent,position:"middle",transitionName:""}}),t._v(" "),n("div",{staticClass:"header pr",class:"header-"+t.topBarTitleClass},[t._v("\n    "+t._s(t.title)+"\n    "),n("div",{staticClass:"rule-icon pa",on:{click:t.onShowRule}})]),t._v(" "),n("div",{staticClass:"main pr"},[n("keep-alive",[n("router-view")],1)],1),t._v(" "),n("AppPost"),t._v(" "),n("RuleDialog",{attrs:{show:t.isShowRule,onClose:t.onCloseRule}}),t._v(" "),n("CommonSvga")],1)};r._withStripped=!0;n(38),n(24),n(15),n(47),n(31),n(39),n(11),n(28),n(8),n(246),n(49),n(16),n(249),n(27);var a=n(2),o=n(10),s=(n(446),n(19)),i=n(1),c=n(30),u=n(276),l=n(277),p=(n(20),n(56)),f=n(57),d={props:{size:{type:String,default:"small"},onClickApp:{type:Function,default:function(){}},applist:{type:Array,default:function(){return["whatsapp","facebook","instagram","messenger"]}}}},h=(n(420),n(4)),g=Object(h.a)(d,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("ul",{staticClass:"applist"},t._l(t.applist,(function(e,r){return n("li",{key:r,staticClass:"item",class:[e,t.size],on:{click:function(n){return t.onClickApp(e)}}})})),0)}),[],!1,null,"3dc533df",null).exports,m={props:{isShow:{default:!1,type:Boolean},onClickShadowMask:{type:Function,default:function(){}},shareData:{default:null},onClickApp:{type:Function,default:function(){}},applist:{type:Array,default:function(){return["whatsapp","facebook","instagram","line"]}}},components:{VueShadowMask:f.a,AppList:g},methods:{_onClickApp:function(t){this.onClickApp(t),i.default.$emit("showLoading"),setTimeout((function(){i.default.$emit("hideLoading")}),1e3)}}},v=(n(421),n(422),Object(h.a)(m,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("VueShadowMask",{attrs:{show:t.isShow,onClickShadowMask:t.onClickShadowMask,position:"bottom",transitionName:"toTop"}},[n("div",{staticClass:"share"},[n("p",{staticClass:"share-tip"},[t._v(t._s(t.$t("shareTo")))]),t._v(" "),n("AppList",{attrs:{size:"small",onClickApp:t._onClickApp,applist:t.applist}})],1)])}),[],!1,null,"265d7f41",null).exports),w=n(73),b=n(48),_=n(0);function y(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}var S,k={data:function(){return{isShowShare:!1}},computed:function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?y(Object(n),!0).forEach((function(e){Object(o.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},Object(b.c)(["isShowAppPost","logoImage","postType","composeImage"]),{targetImage:function(){return"self"===this.postType?this.logoImage:this.composeImage}}),methods:{onClickApp:function(t){var e=this;return Object(a.a)(regeneratorRuntime.mark((function n(){var r,a;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(e.report({function_id:"share_click",app_type:Object(_.getAppType)(t),share_enter_type:"self"===e.postType?1:3}),"instagram"===t){n.next=5;break}return n.next=4,e.$store.dispatch("getShareWebUrl",e.targetImage);case 4:r=n.sent;case 5:a="facebook"===t||"messenger"===t||"line"===t?{webUrl:r,title:e.$t("photoTogetherTip"),content:e.$t("mainTip")}:{title:e.$t("photoTogetherTip"),content:"whatsapp"===t?"".concat(e.$t("mainTip")," ").concat(r):e.$t("mainTip"),image:e.targetImage},console.log("config",a),_.hagoAppCall.saveShare[t](a);case 8:case"end":return n.stop()}}),n)})))()},onClickShareShadow:function(){this.isShowShare=!1},onClose:function(){this.$store.commit("closeAppPost")},onSave:function(){var t=this;return Object(a.a)(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"self"===t.postType?t.report("selfphoto_pop_salbum_click"):t.report("photo_result_album_click"),i.default.$emit("showLoading"),n={url:t.targetImage,name:String((new Date).getTime())+".png"},console.log(n),e.next=6,_.hagoAppCall.base.saveImage(n);case 6:i.default.$emit("hideLoading"),i.default.$emit("showToast",t.$t("saved"));case 8:case"end":return e.stop()}}),e)})))()},onShare:function(){"self"===this.postType?(this.report("selfphoto_pop_share_click"),this.report("selfphoto_share_pop_show")):(this.report("photo_result_share_click"),this.report("photo_result_share_show")),this.isShowShare=!0}},components:{AppBtn:w.a,AppShare:v,CommonDialog:p.a}},C=(n(424),Object(h.a)(k,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("CommonDialog",{attrs:{show:t.isShowAppPost,onClose:t.onClose,onClickShadowMask:t.onClose}},["self"===t.postType?n("img",{staticClass:"image",attrs:{src:t.logoImage}}):n("img",{staticClass:"image",attrs:{src:t.composeImage}}),t._v(" "),n("AppBtn",{staticClass:"share-btn",nativeOn:{click:function(e){return t.onShare(e)}}},[t._v(t._s(t.$t("share").toUpperCase()))]),t._v(" "),n("AppBtn",{staticClass:"save-btn",attrs:{type:"ghost"},nativeOn:{click:function(e){return t.onSave(e)}}},[t._v(t._s(t.$t("saveToAlbum")))])],1),t._v(" "),n("AppShare",{attrs:{isShow:t.isShowShare,onClickShadowMask:t.onClickShareShadow,onClickApp:t.onClickApp}})],1)}),[],!1,null,"477ba9a1",null).exports),O={props:{show:{type:Boolean,default:!1},onClose:{type:Function,default:function(){}}},components:{CommonDialog:p.a},computed:{rule1:function(){return this.$t("rule1",["<span style='color:#ff6600;'>".concat(this.$t("level"),"</span>")])}}},x=(n(425),n(426),Object(h.a)(O,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("CommonDialog",{attrs:{show:t.show,onClose:t.onClose,onClickShadowMask:t.onClose,boxClass:"rule-wrap"}},[n("ul",{staticClass:"rule pr"},[n("li",{staticClass:"item pr"},[n("span",{staticClass:"order pa"},[t._v("1")]),n("div",{domProps:{innerHTML:t._s(t.rule1)}})]),t._v(" "),n("li",{staticClass:"item pr"},[n("span",{staticClass:"order pa"},[t._v("2")]),t._v(t._s(t.$t("rule2")))]),t._v(" "),n("li",{staticClass:"item pr"},[n("span",{staticClass:"order pa"},[t._v("3")]),t._v(t._s(t.$t("rule3")))]),t._v(" "),n("li",{staticClass:"item pr"},[n("span",{staticClass:"order pa"},[t._v("4")]),t._v(t._s(t.$t("rule4")))])])])}),[],!1,null,"5cf3a389",null).exports),j=n(3),T=n.n(j),$=n(130),E=n(82),P={data:function(){return{show:!1}},computed:{inviteImage:function(){return $.default.state.inviteImage}},methods:{onClose:function(){this.show=!1},onTakePhoto:function(){this.show=!1,this.report("photo_sure_pg_take_click"),console.log("onTakePhoto"),$.default.commit("changeDressMode",{image:this.inviteImage,dressMode:0}),E.default.push("/dress")}},components:{AppBtn:w.a,CommonDialog:p.a}},I=(n(429),Object(h.a)(P,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.show?n("CommonDialog",{attrs:{show:!0,onClose:t.onClose}},[n("img",{staticClass:"image",attrs:{src:t.inviteImage}}),t._v(" "),n("p",{staticClass:"tip",staticStyle:{"font-weight":"bold"}},[t._v(t._s(t.$t("dearMy"))+":"),n("br"),t._v(t._s(t.$t("inviteTip")))]),t._v(" "),n("AppBtn",{staticClass:"share-btn",attrs:{onClick:t.onTakePhoto}},[t._v(t._s(t.$t("shoot").toUpperCase()))])],1):t._e()}),[],!1,null,"a0e043d6",null).exports),M=T.a.extend(I);var D,A={close:function(){S.show=!1},show:function(){i.default.report("photo_sure_pg_show"),S||function(){var t=new M;t.vm=t.$mount(),document.body.appendChild(t.vm.$el),S=t.vm,A.vm=S}(),S.show=!0},vm:S},L=A,R={data:function(){return{show:!1}},components:{VueShadowMask:f.a},methods:{onOk:function(){},onClickShadowMask:function(){}}},B=(n(430),Object(h.a)(R,(function(){var t=this.$createElement,e=this._self._c||t;return e("VueShadowMask",{attrs:{show:this.show,onClickShadowMask:this.onClickShadowMask}},[e("div",{staticClass:"no-support"},[this._v(this._s(this.$t("yourPhoto")))])])}),[],!1,null,"07248b3b",null).exports),U=T.a.extend(B);function F(){var t=new U;t.vm=t.$mount(),document.body.appendChild(t.vm.$el),D=t.vm,N.vm=D}var N={close:function(){D.show=!1},show:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};D||F(),D.onOk=t.onOk||function(){},D.show=!0},vm:D},V=N;function G(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}var z={computed:function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?G(Object(n),!0).forEach((function(e){Object(o.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):G(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},Object(b.c)("Svga",["isShowGiftSvga","isShowSavingSvga"])),components:{VueShadowMask:f.a}},J=(n(431),Object(h.a)(z,(function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"wrap"},[e("VueShadowMask",{staticClass:"gift-wrap",attrs:{shadowOpacity:.7,show:this.isShowGiftSvga}},[e("div",{staticClass:"gift",attrs:{id:"gift"}})]),this._v(" "),e("VueShadowMask",{staticClass:"saving-wrap",attrs:{shadowOpacity:.7,show:this.isShowSavingSvga}},[e("div",{staticClass:"saving",attrs:{id:"saving"}}),this._v(" "),e("p",{staticClass:"saving-txt"},[this._v(this._s(this.$t("pleaseWait")))])])],1)}),[],!1,null,"89d05fe2",null).exports),H=(n(14),n(102)),W={data:function(){return{username:""}},props:{show:{type:Boolean,default:!1},onClickHideBtn:Function},filters:{filterOrder:function(t){var e=t.indexOf(".");return t.substring(e+1)}},components:{CommonDialog:p.a,AppBtn:w.a},methods:{onGotIt:function(){_.hagoAppCall.ui.exitWebView()},onDoubleClick:function(){"llz"===this.username.substring(0,3)&&this.onClickHideBtn()}},created:function(){this.username=H.a.get("username"),console.log("MainTentDialog username is ".concat(this.username))}},q=(n(432),Object(h.a)(W,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("CommonDialog",{attrs:{show:t.show,isShowCloseBtn:!1,z:"9998"}},[n("div",{staticClass:"bean"}),t._v(" "),n("div",{staticClass:"hide-btn",on:{click:t.onDoubleClick}}),t._v(" "),n("div",{staticClass:"info-wrap"},[n("p",{staticClass:"title item"},[t._v(t._s(t.$t("dearUser")))]),t._v(" "),n("p",{staticClass:"item"},[t._v(t._s(t.$t("shortUpdate")))]),t._v(" "),n("p",{staticClass:"item"},[t._v(t._s(t.$t("updateContent")))])]),t._v(" "),n("AppBtn",{attrs:{onClick:t.onGotIt}},[t._v(t._s(t.$t("gotIt")))])],1)}),[],!1,null,"3baafc7e",null).exports);function Y(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}var K=c.default.params,Z=c.default.isMaintent,Q=c.default.ENV,X=K.inviteUid,tt=void 0===X?"":X,et=K.targetUid,nt=void 0===et?"":et,rt=K.inviteImage,at=void 0===rt?"":rt,ot=K.completeImage,st=void 0===ot?"":ot,it=K.from||"";tt=Number(tt),nt=Number(nt);var ct={data:function(){return{showLoading:!1,showToast:!1,toastContent:"",title:"",isClosed:!1,ENV:Q,isMaintent:Z,isSupportBack:!1}},computed:function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Y(Object(n),!0).forEach((function(e){Object(o.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Y(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},Object(b.c)(["topBarTitleClass","isShowRule","image","backIconClass","isChecked"])),components:{VueToast:u.a,VuePageLoading:l.a,AppPost:C,RuleDialog:x,CommonSvga:J,MaintentDialog:q},watch:{$route:function(t){var e=t.path;"/"===e[0]&&(e=e.substring(1)),this.title="inviteList"===e?this.$t("takeA").toUpperCase():this.$t("activityTitle").toUpperCase()}},methods:{onBack:function(){_.hagoAppCall.ui.simulateAppBack({type:1})},onClearStorage:function(){Storage.clear()},onSignin:function(){return Object(a.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,s.a.checkIn();case 2:if(1!==t.sent.code){t.next=5;break}return t.abrupt("return",i.default.$emit("showToast","签到成功"));case 5:case"end":return t.stop()}}),t)})))()},onClearDress:function(){var t=this;return Object(a.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.onClearStorage(),e.next=3,s.a.delOrnament({uid:+_.uid,sex:t.$store.state.sex});case 3:if(1!==e.sent.code){e.next=6;break}return e.abrupt("return",i.default.$emit("showToast","清除成功"));case 6:case"end":return e.stop()}}),e)})))()},onCloseLimi:function(){var t=this;return Object(a.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.a.setDressupStatus({close:!t.isClosed});case 2:if(1===e.sent.code){e.next=5;break}return e.abrupt("return",i.default.$emit("showToast",t.$t("serverError")));case 5:i.default.$emit("showToast",t.isClosed?i.default.$t("opened"):i.default.$t("hid")),t.isClosed=!t.isClosed;case 7:case"end":return e.stop()}}),e)})))()},registerGlobalEvent:function(){var t=this;i.default.$on("showLoading",(function(e){t.showLoading=!0})).$on("hideLoading",(function(e){t.showLoading=!1})).$on("showToast",(function(e){t.toastContent=e,t.showToast=!0,setTimeout((function(e){t.showToast=!1}),2500)}))},onCloseRule:function(){this.$store.state.isShowRule=!1},onShowRule:function(){this.$store.state.isShowRule=!0},initInviteStatus:function(){var t=this;return Object(a.a)(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(tt){e.next=2;break}return e.abrupt("return");case 2:if(tt!==Number(_.uid)&&(t.$store.state.inviteImage=at,t.report("photo_result_share_show"),L.show()),tt!==Number(_.uid)){e.next=10;break}return e.next=6,s.a.inviteFriendStatus({uid:nt});case 6:if(1===(n=e.sent).code){e.next=9;break}return e.abrupt("return",i.default.$emit("showToast",t.$t("serverError")));case 9:n.data&&n.data.url||i.default.$emit("showToast",t.$t("waitYourFriend"));case 10:case"end":return e.stop()}}),e)})))()},initCompleteStatus:function(){st&&(this.$store.state.composeImage=st,this.$store.commit("showAppPost","compose"),this.report({function_id:"photo_result_show",photo_source_enter_type:2}))},initNoSupport:function(){var t=Object(_.getAndroidVersion)();return!!(t&&t<4.4)&&(V.show(),!0)},initDressupStatus:function(){var t=this;return Object(a.a)(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.a.getDressupStatus();case 2:if((n=e.sent)&&1===n.code){e.next=5;break}return e.abrupt("return",i.default.$emit("showToast",t.$t("serverError")));case 5:t.isClosed=n.data.is_closed;case 6:case"end":return e.stop()}}),e)})))()},detectCheckStatus:function(){"im"!==it||this.isChecked||s.a.checkIn()},initPage:function(){var t=this;return Object(a.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.initNoSupport()){e.next=2;break}return e.abrupt("return");case 2:return t.initDressupStatus(),t.registerGlobalEvent(),e.next=6,Promise.all([t.$store.dispatch("initHomePageData"),t.$store.dispatch("initCardConfig")]);case 6:t.detectCheckStatus(),t.initInviteStatus(),t.initCompleteStatus(),t.image?(t.$store.state.playPgEnterType=2,t.$router.replace("/appEntry")):t.$router.replace("/dress");case 10:case"end":return e.stop()}}),e)})))()},setUpBackIcon:function(){console.log("setUpBackIcon",window.nativeApp,_.Version.get(),_.Version.compare("2.4.0")),window.nativeApp&&_.Version.compare("2.4.0")&&(this.isSupportBack=!0,_.hagoAppCall.ui.hideFullScreenWebViewCloseBtn())}},created:function(){this.initPage()},mounted:function(){this.setUpBackIcon()}},ut=(n(433),Object(h.a)(ct,r,[],!1,null,"21ba0512",null));ut.options.__file="src/module/App.vue";e.default=ut.exports},56:function(t,e,n){"use strict";var r=n(57),a={props:{show:{type:Boolean,default:!1},onClose:{type:Function,default:function(){}},onClickShadowMask:{type:Function,default:function(){}},boxClass:{type:String},isShowCloseBtn:{type:Boolean,default:!0},z:{type:String,default:"1000"}},watch:{show:function(t){console.log("newV is ".concat(t)),t?this.$store&&(this.$store.state.backIconClass="white"):this.$store&&(this.$store.state.backIconClass="black")}},methods:{onClickCloseBtn:function(){this.$store&&(this.$store.state.backIconClass="black"),this.onClose()}},components:{VueShadowMask:r.a}},o=(n(419),n(4)),s=Object(o.a)(a,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("VueShadowMask",{attrs:{show:t.show,onClickShadowMask:t.onClickShadowMask,z:t.z}},[n("div",{staticClass:"box pr",class:t.boxClass},[t._t("default"),t._v(" "),t.isShowCloseBtn?n("div",{staticClass:"close-btn pa",on:{click:t.onClickCloseBtn}}):t._e()],2)])}),[],!1,null,"3f48dc54",null);e.a=s.exports},73:function(t,e,n){"use strict";var r={props:{type:{default:"normal"},size:{default:"normal"},onClick:{type:Function,default:function(){}},disabled:{type:Boolean,default:!1},styleObj:{type:Object}}},a=(n(423),n(4)),o=Object(a.a)(r,(function(){var t=this.$createElement;return(this._self._c||t)("div",{class:["btn--"+this.type,"btn_"+this.size,"btn",this.disabled?"disabled":""],style:this.styleObj,on:{click:this.onClick}},[this._t("default")],2)}),[],!1,null,"1cfbf394",null);e.a=o.exports},82:function(t,e,n){"use strict";n.r(e);n(28);var r=n(3),a=n.n(r),o=n(196),s=n.n(o);a.a.use(s.a);var i=new s.a({routes:[{path:"/",component:function(){return Promise.all([n.e(0),n.e(3)]).then(n.bind(null,280))}},{path:"/dress",component:function(){return Promise.all([n.e(0),n.e(3)]).then(n.bind(null,280))}},{path:"/appEntry",component:function(){return Promise.all([n.e(0),n.e(10)]).then(n.bind(null,459))}}]});e.default=i}},[[281,7,2]]]);